<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Objective-C | Js' Technical Blog</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-5448599905824559',
  enable_page_level_ads: true
});
</script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M7ZMK9N');
if ($('.tags > a').length > 0) {
  $('.tags > a').each(function (i) {
    dataLayer.push({
      'event': 'gaEvent',
      'gaEventCategory': 'Custom Dimension Event',
      'gaEventAction': 'Post tag',
      'gaEventLabel': $(this).text(),
      'gaEventValue': 0,
      'gaNonInteraction': 1,
      'gaDimensionsTag': $(this).text(),
      'gaMetricsTag': 1,
    });
  });
}</script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Objective-C</h1><a id="logo" href="/.">Js' Technical Blog</a><p class="description">This is my technical blog about programming, server setup &amp; configuration, technical learning experience.</p></div><div id="nav-menu"><a href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/short-notes/" class="current"><i class="fa fa-graduation-cap"> Short-Notes</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Objective-C</h1><div class="post-content"><p>https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html</p>
<h4>String casting</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">NSString</span> *str = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"This is string type: %d"</span>, num];</span><br></pre></td></tr></table></figure></p>
<p>will output</p>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This is string <span class="built_in">type</span>: 1</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://forums.macrumors.com/showthread.php?t=448594#post5105590" target="_blank" rel="noopener">Casting an int to an NSString *</a></li>
</ul>
<hr>
<h4>Dump object in console</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, obj);</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/289241/how-to-dump-data-stored-in-objective-c-object-nsarray-or-nsdictionary#answers" target="_blank" rel="noopener">How to dump data stored in objective-c object (NSArray or NSDictionary)</a></li>
</ul>
<hr>
<h4>Type casting</h4>
<p>Cast <code>bar</code> to <code>NSWhatEver</code> object into <code>foo</code> variable</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSWhatEver</span> *foo = (<span class="built_in">NSWhatEver</span> *)bar;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/960513/casting-objects-in-cocoa-touch#answers" target="_blank" rel="noopener">Casting Objects in Cocoa touch</a></li>
</ul>
<hr>
<h4>Accessing a <code>deep</code> element in JSON</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    lvl_1_0 =     &#123;</span></span><br><span class="line"><span class="comment">        lvl_2_0 =         &#123;</span></span><br><span class="line"><span class="comment">            lvl_3_0 = "I'm Foo";</span></span><br><span class="line"><span class="comment">            lvl_3_1 = "I'm Bar";</span></span><br><span class="line"><span class="comment">        &#125;;</span></span><br><span class="line"><span class="comment">        lvl_2_1 = 123;</span></span><br><span class="line"><span class="comment">    &#125;;</span></span><br><span class="line"><span class="comment">    lvl_1_1 =     (</span></span><br><span class="line"><span class="comment">    );</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *foo = [[[json valueForKey:<span class="string">@"lvl_1_0"</span>] valueForKey:<span class="string">@"lvl_2_0"</span> ] valueForKey:<span class="string">@"lvl_3_0"</span>];</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Clear all cookies</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> baseUrlString = <span class="string">@"http://yourdomain.com/"</span>;</span><br><span class="line"><span class="built_in">NSArray</span> *cookies = [[<span class="built_in">NSHTTPCookieStorage</span> sharedHTTPCookieStorage] cookiesForURL: [<span class="built_in">NSURL</span> URLWithString:baseUrlString]];</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">NSHTTPCookie</span> *cookie <span class="keyword">in</span> cookies) &#123;</span><br><span class="line">    [[<span class="built_in">NSHTTPCookieStorage</span> sharedHTTPCookieStorage] deleteCookie:cookie];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/10984374/how-to-manage-sessions-with-afnetworking#answers" target="_blank" rel="noopener">How to manage sessions with AFNetworking?</a></li>
</ul>
<hr>
<h4>Clear all NSUserDefaults</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSUserDefaults</span> *defaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line"><span class="built_in">NSDictionary</span> *dict = [defaults dictionaryRepresentation];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">id</span> key <span class="keyword">in</span> dict) &#123;</span><br><span class="line">    [defaults removeObjectForKey:key];</span><br><span class="line">&#125;</span><br><span class="line">[defaults synchronize];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/6797096/delete-all-keys-from-a-nsuserdefaults-dictionary-iphone#answers" target="_blank" rel="noopener">Delete all keys from a NSUserDefaults dictionary iPhone</a></li>
</ul>
<hr>
<h4>Define global constant</h4>
<p>Create 2 files:</p>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ touch Constants.h</span><br><span class="line">$ touch Constants.m</span><br></pre></td></tr></table></figure></p>
<p>Add the 2 files to project, <strong>right-click</strong> the project -&gt; <strong>Add Files to &quot;project&quot;...</strong><br>
<img src="/images/short-notes/objective-c/add-files-to-project.png" alt="alt text" title="Add Files to 'project'..."></p>
<p>Edit the files:</p>
<p><strong>Constants.h</strong>
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FOUNDATION_EXPORT <span class="built_in">NSString</span> *<span class="keyword">const</span> FOO;</span><br><span class="line">FOUNDATION_EXPORT <span class="built_in">NSString</span> *<span class="keyword">const</span> BAR;</span><br></pre></td></tr></table></figure></p>
<p><strong>Constants.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *<span class="keyword">const</span> FOO = <span class="string">@"I'm Foo"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *<span class="keyword">const</span> BAR = <span class="string">@"I'm Bar"</span>;</span><br></pre></td></tr></table></figure></p>
<p>Then import to those files that you want to use these constants</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import <span class="string">"Constants.h"</span></span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/538996/constants-in-objective-c#answers" target="_blank" rel="noopener">Constants in Objective C</a></li>
</ul>
<hr>
<h4>Add objects into NSMutableArray</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableArray</span> *arrayObj = [[<span class="built_in">NSMutableArray</span> alloc] init];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    [arrayObj addObject:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"Row %d"</span>, i]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/778465/nsarray-adding-elements#answers" target="_blank" rel="noopener">NSArray adding elements</a></li>
</ul>
<hr>
<h4>Add objects into NSMutableDictionary</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableDictionary</span> *arrayObj = [[<span class="built_in">NSMutableDictionary</span> alloc] init];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    [arrayObj setObject:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"Row %d"</span>, i] forKey:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"key_%d"</span>, i]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/1957883/how-to-addobject-of-nsmutabledictionary-to-nsmutablearray-in-a-loop#answer-7432535" target="_blank" rel="noopener">How to addObject of NSMutableDictionary to NSMutableArray in a loop</a></li>
</ul>
<hr>
<h4>set border to image</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;QuartzCore/QuartzCore.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc] init];</span><br><span class="line">[imageView.layer setBorderColor:[[<span class="built_in">UIColor</span> blackColor] <span class="built_in">CGColor</span>]];</span><br><span class="line">[imageView.layer setBorderWidth:<span class="number">2.0</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/1354811/how-can-i-take-an-uiimage-and-give-it-a-black-border#answer-3018485" target="_blank" rel="noopener">How can i take an UIImage and give it a black border?</a></li>
</ul>
<hr>
<h4>NSDate &amp; Unix timestamp</h4>
<p><code>NSDate</code> to timestamp</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> timestamp = [[<span class="built_in">NSDate</span> date] timeIntervalSince1970];</span><br></pre></td></tr></table></figure></p>
<p>timestamp to <code>NSDate</code></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> timestamp = <span class="number">1234567890</span>;</span><br><span class="line"><span class="built_in">NSDate</span> *theDate = [<span class="built_in">NSDate</span> dateWithTimeIntervalSince1970:timestamp];</span><br></pre></td></tr></table></figure></p>
<h5>References:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/8639048/unixtimestamps-always-off-in-ios#answers" target="_blank" rel="noopener">UnixTimestamps always off in ios</a></li>
<li><a href="http://stackoverflow.com/questions/17365045/how-to-convert-nstimeinterval-since1970-to-nsdate/17365088#17365088" target="_blank" rel="noopener">How to convert NSTimeInterval since1970 to NSDate</a></li>
</ul>
<hr>
<h4>Hide the navigation bar</h4>
<p>Consider a situation here, a 2nd layer view is pushed on top of the root view, where root view need a navigation bar and the view just pushed no need.</p>
<p>In root navigation viewController.m</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    <span class="meta"># show navigation bar when the root view is shown</span></span><br><span class="line">    [<span class="keyword">self</span>.navigationController setNavigationBarHidden:<span class="literal">NO</span>];</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">IBAction</span>)toNextView:(<span class="keyword">id</span>)sender</span><br><span class="line">&#123;</span><br><span class="line">    <span class="meta"># push a new view in</span></span><br><span class="line">    YourViewController *controller = [[YourViewController alloc] init];</span><br><span class="line">    [<span class="keyword">self</span>.navigationController pushViewController:controller animated:<span class="literal">YES</span>];</span><br><span class="line">    <span class="meta"># hide the navigation bar</span></span><br><span class="line">    [<span class="keyword">self</span>.navigationController setNavigationBarHidden:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/8620491/hide-navigation-bar-in-uinavigationviewcontrollers-root-view-but-show-it-in-ot#answers" target="_blank" rel="noopener">Hide navigation bar in UINavigationViewController's root view, but show it in others</a></li>
</ul>
<hr>
<h4>Property creation</h4>
<p><strong>FooViewController.h</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">FooViewController</span> : <span class="title">UIViewController</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="built_in">NSString</span> *fooStr;</span><br><span class="line"><span class="meta"># primitive type no need to specify strong or weak</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="keyword">int</span> fooInt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p><strong>FooViewController.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">FooViewController</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> fooStr;</span><br><span class="line"><span class="keyword">@synthesize</span> fooInt;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">- (<span class="keyword">void</span>)viewDidUnload</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Deallocate object reference type</span></span><br><span class="line">    [<span class="keyword">self</span> setFooStr:<span class="literal">nil</span>];</span><br><span class="line">    [<span class="keyword">super</span> viewDidUnload];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>This can be apply in such a situation where you want to let the next view to access your property</p>
<hr>
<h4>Dismiss <code>presentModalViewController</code></h4>
<p>i.e. <strong>Cancel</strong> button is clicked, want to dismiss itself</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span> dismissModalViewControllerAnimated:<span class="literal">YES</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/1529632/present-and-dismiss-modal-view-controller#answers" target="_blank" rel="noopener">present and dismiss modal view controller</a></li>
</ul>
<hr>
<h4>UILabel setFont</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[fooLabel setFont:[<span class="built_in">UIFont</span> fontWithName:<span class="string">@"Arial-BoldMT"</span> size:<span class="number">16</span>]];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4602586/i-want-to-make-uilabels-text-bold#answers" target="_blank" rel="noopener">I want to make UILabel's text bold</a></li>
</ul>
<hr>
<h4>UILabel center text alignment</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fooLabel.textAlignment = <span class="built_in">UITextAlignmentCenter</span>;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/5722730/uilabel-align-text-to-center#answers" target="_blank" rel="noopener">UILabel Align Text to center</a></li>
</ul>
<hr>
<h4>Get device model</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;sys/utsname.h&gt;</span></span></span><br><span class="line">...</span><br><span class="line">- (<span class="built_in">NSString</span> *)model</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">struct</span> utsname systemInfo;</span><br><span class="line">    uname(&amp;systemInfo);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithCString:systemInfo.machine encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/11197509/ios-iphone-get-device-model-and-make#answers" target="_blank" rel="noopener">ios iphone get device model and make?</a></li>
</ul>
<hr>
<h4>Get user location</h4>
<p>First, add a framework named <strong>CoreLocation.framework</strong></p>
<p><img src="/images/short-notes/objective-c/add-core-location-framework-to-project.png" alt="alt text" title="Add CoreLocation.framework"></p>
<p>In <strong>FooViewController.h</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;CoreLocation/CoreLocation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">FooViewController</span> : <span class="title">UIViewController</span> &lt;<span class="title">CLLocationManagerDelegate</span>&gt; </span>&#123;</span><br><span class="line">    <span class="built_in">CLLocationManager</span> *locationManager;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p>In <strong>FooViewController.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    locationManager = [[<span class="built_in">CLLocationManager</span> alloc] init];</span><br><span class="line">    locationManager.delegate = <span class="keyword">self</span>;</span><br><span class="line">    locationManager.distanceFilter = kCLDistanceFilterNone;</span><br><span class="line">    locationManager.desiredAccuracy = kCLLocationAccuracyBest;</span><br><span class="line">    [locationManager startUpdatingLocation];</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">- (<span class="keyword">void</span>)locationManager:(<span class="built_in">CLLocationManager</span> *)manager didUpdateToLocation:(<span class="built_in">CLLocation</span> *)newLocation fromLocation:(<span class="built_in">CLLocation</span> *)oldLocation</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Old location: %f %f"</span>, oldLocation.coordinate.latitude, oldLocation.coordinate.longitude);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"New location: %f %f"</span>, newLocation.coordinate.latitude, newLocation.coordinate.longitude);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4152003/how-can-i-get-current-location-from-user-in-ios#answer-11334031" target="_blank" rel="noopener">How can I get current location from user in iOS</a></li>
</ul>
<hr>
<h4>Add beep sound</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;AudioToolBox/AudioToolBox.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    <span class="meta"># more sound refer to http://iphonedevwiki.net/index.php/AudioServices</span></span><br><span class="line">    AudioServicePlaySystemSound(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/5867058/has-iphone-built-in-beep-sound-efect#answers" target="_blank" rel="noopener">has Iphone built in beep sound efect</a></li>
</ul>
<hr>
<h4>Bind <code>Return</code> button to UITextField</h4>
<p>In <strong>FooViewController.h</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">FooViewController</span> : <span class="title">UIViewController</span> &lt;<span class="title">UITextFieldDelegate</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>In <strong>FooViewController.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">UITextField</span> *textField = [[<span class="built_in">UITextField</span> alloc] initWithFrame:...];</span><br><span class="line">    ...</span><br><span class="line">    textField.delegate = <span class="keyword">self</span>;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - UITextFieldDelegate</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)textFieldShouldReturn:(<span class="built_in">UITextField</span> *)textField</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Un-focus the text field</span></span><br><span class="line">    [textField resignFirstResponder];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/6190276/how-to-make-return-key-on-iphone-make-keyboard-disappear#answers" target="_blank" rel="noopener">How to make return key on iphone make keyboard disappear?</a></li>
</ul>
<hr>
<h2>Change keyboard <code>Return</code> key to <code>Go</code></h2>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[textField setReturnKeyType:<span class="built_in">UIReturnKeyGo</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4489879/ios-keyboard-with-go-button-instead-of-return#answers" target="_blank" rel="noopener">iOS keyboard with “Go” button instead of return</a></li>
</ul>
<hr>
<h4>Delegate multiple UITextField</h4>
<p>In <strong>FooViewController.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"FooViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#define TEXTFIELD_FOO 1</span></span><br><span class="line"><span class="meta">#define TEXTFIELD_BAR 2</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">FooViewController</span>()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">FooViewController</span></span></span><br><span class="line">...</span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">UITextField</span> *fooTextField = [[<span class="built_in">UITextField</span> alloc] initWithFrame:...];</span><br><span class="line">    ...</span><br><span class="line">    fooTextField.tag = TEXTFIELD_FOO;</span><br><span class="line">    fooTextField.delegate = <span class="keyword">self</span>;</span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">UITextField</span> *barTextField = [[<span class="built_in">UITextField</span> alloc] initWithFrame:...];</span><br><span class="line">    ...</span><br><span class="line">    barTextField.tag = TEXTFIELD_BAR;</span><br><span class="line">    barTextField.delegate = <span class="keyword">self</span>;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="meta">#pragma mark - UITextFieldDelegate</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)textFieldShouldReturn:(<span class="built_in">UITextField</span> *)textField</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (textField.tag == TEXTFIELD_FOO) &#123;</span><br><span class="line">        <span class="comment">// do something with Foo</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (textField.tag == TEXTFIELD_BAR) &#123;</span><br><span class="line">        <span class="comment">// do something with Bar</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/3747315/iphone-uitextfield-multiple-textfields-with-the-same-delegate#answers" target="_blank" rel="noopener">iphone: uitextfield, multiple textfields with the same delegate?</a></li>
</ul>
<hr>
<h4>UIScrollView scroll as page</h4>
<p>The statement below will enable the paging like what you see in iPhone menu (cannot scroll half page)</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrollView.pagingEnabled = <span class="literal">YES</span>;</span><br></pre></td></tr></table></figure></p>
<h2>Change the height of UITableViewCell</h2>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)theTableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">100.00</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/3644366/how-can-i-programmatically-increase-the-height-of-the-cells-in-my-uitableview#answers" target="_blank" rel="noopener">How can I programmatically increase the height of the cells in my UITableView?</a></li>
</ul>
<hr>
<h4>Set UITableViewCell background image</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UITableViewCell</span> *)tableView:(<span class="built_in">UITableView</span> *)theTableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *cellIdentifier = <span class="string">@"Cell"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [theTableView dequeueReusableCellWithIdentifier:cellIdentifier];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc] initWithStyle:<span class="built_in">UITableViewCellStyleSubtitle</span> reuseIdentifier:cellIdentifier];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cell.backgroundView = [[<span class="built_in">UIView</span> alloc] init];</span><br><span class="line">    cell.contentView.backgroundColor = [<span class="built_in">UIColor</span> colorWithPatternImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"imgName"</span>]];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Set background on UIButton</h4>
<p>I was curious that why the background is always there</p>
<p><img src="/images/short-notes/objective-c/buttonWithUnclearedBackground.png" alt="alt text" title="Ugly background"></p>
<p>Finally I found the problem, is the <code>Type</code>, to create a button with background programmatically</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>]; <span class="comment">// use custom instead of RoundedRect</span></span><br><span class="line">[button setFrame:<span class="built_in">CGRectMake</span>(position_x, position_y, width, height)];</span><br><span class="line">[button setBackgroundImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"SignInRegisterButton"</span>] forState:<span class="built_in">UIControlStateNormal</span>];</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Remove UITableView cell separator</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tableView.separatorStyle = <span class="built_in">UITableViewCellSeparatorStyleNone</span>;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/286332/how-do-i-remove-the-borders-of-a-uitableview#answer-456945" target="_blank" rel="noopener">How do I remove the borders of a UITableView?</a></li>
</ul>
<hr>
<h4>Reset UIBarButtonItem background to default</h4>
<p><strong>AppDelegate.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UIBarButtonItem</span> appearance] setBackgroundImage:<span class="literal">nil</span> forState:<span class="built_in">UIControlStateNormal</span> barMetrics:<span class="built_in">UIBarMetricsDefault</span>];</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Get <code>Day</code>, <code>Month</code>, <code>Year</code> from NSDate</h4>
<p><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDateComponents</span> *dateComponents = [[<span class="built_in">NSCalendar</span> currentCalendar] components:<span class="built_in">NSDayCalendarUnit</span>|<span class="built_in">NSMonthCalendarUnit</span>|<span class="built_in">NSYearCalendarUnit</span> fromDate:[<span class="built_in">NSDate</span> date]];</span><br><span class="line"><span class="built_in">NSNumber</span> *day = [<span class="built_in">NSNumber</span> numberWithInt:[dateComponents day]];</span><br><span class="line"><span class="built_in">NSNumber</span> *month = [<span class="built_in">NSNumber</span> numberWithInt:[dateComponents month]];</span><br><span class="line"><span class="built_in">NSNumber</span> *year = [<span class="built_in">NSNumber</span> numberWithInt:[dateComponents year]];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/8121147/how-to-parse-and-extract-year-month-day-etc-from-time-interval-on-iphone-ios#answers" target="_blank" rel="noopener">How to parse and extract Year, Month, Day etc from time interval on iphone IOS</a></li>
</ul>
<hr>
<h4>Create UITableView programmatically</h4>
<p>In <strong>YourViewController.h</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">YourViewController</span> : <span class="title">UIViewController</span> &lt;<span class="title">UITableViewDelegate</span>, <span class="title">UITableViewDataSource</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p>Tell the compiler to conform to <code>UITableViewDelegate</code> &amp; <code>UITableViewDataSource</code> these 2 protocols</p>
<p>In <strong>YourViewController.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"YourViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">YourViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">YourViewController</span> </span>&#123;</span><br><span class="line">        <span class="built_in">UITableView</span> *tableView;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    tableView = [[<span class="built_in">UITableView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="keyword">self</span>.view.frame.size.width * <span class="number">0.55</span>f, <span class="keyword">self</span>.view.frame.size.height * <span class="number">0.2</span>f, <span class="keyword">self</span>.view.frame.size.width * <span class="number">0.4</span>f, <span class="keyword">self</span>.view.frame.size.height * <span class="number">0.7</span>f) style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// set the delegate &amp; dataSource to self, means have to implement in YourViewController</span></span><br><span class="line">    tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:tableView];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="meta">#pragma mark - UITableViewDataSource</span></span><br><span class="line">- (<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)theTableView</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// the number of section(s) in the table</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)theTableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// the number of row(s) in the table</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">UITableViewCell</span> *)tableView:(<span class="built_in">UITableView</span> *)theTableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *cellIdentifier = <span class="string">@"Cell"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [theTableView dequeueReusableCellWithIdentifier:cellIdentifier forIndexPath:indexPath];</span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc] initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:cellIdentifier];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// do some configuration like populate data to cell</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - UITableViewDelegate</span></span><br><span class="line">- (<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)theTableView didSelectRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Action that you want to perform when clicked on table cell</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Validate phone number via Regex</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *phoneNo = <span class="string">@"+6012-3456789"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *regex = <span class="string">@"^(\\+)?\\d+(-)?\\d+"</span>;</span><br><span class="line"><span class="built_in">NSPredicate</span> *stringTest = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF MATCHES %@"</span>, regex];</span><br><span class="line"><span class="built_in">BOOL</span> isValid = [stringTest evaluateWithObject:phoneNo];</span><br></pre></td></tr></table></figure></p>
<ul>
<li><code>^</code> Indicate beginning of the text</li>
<li><code>(\\+)?</code> Is an <strong>optional</strong> <code>+</code> character at the beginning of the text</li>
<li><code>\\d+</code> Indicate one or more integer</li>
<li><code>(-)?</code> An <strong>optional</strong> character</li>
</ul>
<p>This will matches:</p>
<ul>
<li>+6012-3456789</li>
<li>012-3456789</li>
<li>+60123456789</li>
<li>6012-3456789</li>
<li>60123456789</li>
</ul>
<hr>
<h4>Validate required text field</h4>
<p>Should use</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (textField.text.length == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// handle error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>rather than</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([textField.text isEqualToString:<span class="string">@""</span>]) &#123;</span><br><span class="line">    <span class="comment">// handle error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>The second 1 won't work as it's default value is not an empty string, unless that you set</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    textField.text = <span class="string">@""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>it's initial value.</p>
<h5>Reference:</h5>
<ul>
<li><a href="http://iphonedevsdk.com/forum/iphone-sdk-development/98995-uitextfield-initial-value.html#Comment_410476" target="_blank" rel="noopener">UITextField Initial Value</a></li>
</ul>
<hr>
<h4>Disable sleep</h4>
<p>In your <strong>AppDelegate.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="built_in">UIApplication</span> sharedApplication].idleTimerDisabled = <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://iphonedevsdk.com/forum/iphone-sdk-development/34269-how-to-disable-sleep-but-enable-screen-dimming.html" target="_blank" rel="noopener">How to Disable Sleep, but Enable Screen Dimming</a></li>
</ul>
<hr>
<h4>Adding criteria to CoreData</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSFetchRequest</span> *fetchRequest = [[<span class="built_in">NSFetchRequest</span> alloc] init];</span><br><span class="line">    </span><br><span class="line"><span class="built_in">NSEntityDescription</span> *entity = [<span class="built_in">NSEntityDescription</span> entityForName:<span class="string">@"TableName"</span> inManagedObjectContext:<span class="keyword">self</span>.managedObjectContext];</span><br><span class="line">[fetchRequest setEntity:entity];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSSortDescriptor</span> *sortDescriptor = [<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"id"</span> ascending:<span class="literal">YES</span>];</span><br><span class="line">[fetchRequest setSortDescriptors:[<span class="built_in">NSArray</span> arrayWithObject:sortDescriptor]];</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Add criteria here */</span></span><br><span class="line"><span class="comment">// for integer</span></span><br><span class="line">[fetchRequest setPredicate:[<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"theId == %d"</span>, <span class="number">123</span>]];</span><br><span class="line"><span class="comment">// for string</span></span><br><span class="line">[fetchRequest setPredicate:[<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"columnName CONTAINS[cd] %@"</span>, <span class="string">@"foo"</span>]];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSError</span> *error;</span><br><span class="line"><span class="built_in">NSArray</span> *resultSet = [<span class="keyword">self</span>.managedObjectContext executeFetchRequest:fetchRequest error:&amp;error];</span><br><span class="line"><span class="keyword">if</span> (resultSet == <span class="literal">nil</span>) &#123;</span><br><span class="line">    FATAL_CORE_DATA_ERROR(error);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Result: %@"</span>, resultSet);</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/7540329/nspredicate-compare-with-integer/7540395#answers" target="_blank" rel="noopener">NSPredicate compare with Integer</a></li>
</ul>
<hr>
<h4>Sentence to CamelCase</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSString</span> *)camelCaseFromString:(<span class="built_in">NSString</span> *)str</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> [[str capitalizedString] stringByReplacingOccurrencesOfString:<span class="string">@" "</span> withString:<span class="string">@""</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/6863096/how-to-convert-text-to-camel-case-in-objective-c/6863154#6863154" target="_blank" rel="noopener">How to convert text to camel case in Objective-C?</a></li>
</ul>
<hr>
<h4>Add touch event to UIImageView</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UITapGestureRecognizer</span> *tap = [[<span class="built_in">UITapGestureRecognizer</span> alloc] initWithTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(imageTouched:)];</span><br><span class="line"></span><br><span class="line"><span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">[imageView addGestureRecognizer:tap];</span><br><span class="line">imageView.userInteractionEnabled = <span class="literal">YES</span>;</span><br><span class="line">[<span class="keyword">self</span>.view addSubview:imageView];</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)imageTouched:(<span class="built_in">UITapGestureRecognizer</span> *)sender</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Image tapped"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>NOTE: <code>imageView.userInteractionEnabled = YES</code> must be set, otherwise it won't work</strong></p>
<hr>
<h4>NSArray check is object in array</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *foo = [<span class="built_in">NSArray</span> arrayWithObjects:obj1, obj2, obj3, <span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">BOOL</span> isObj1InArray = [foo containsObject:obj1];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://iphonedevsdk.com/forum/iphone-sdk-development/29765-in_array-for-objective-c.html#Comment_128847" target="_blank" rel="noopener">in_array() for objective-c</a></li>
</ul>
<hr>
<h4>Set timeout interval</h4>
<p>Set the interval to 60 seconds.</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// must be NSMutableURLRequest, NSURLRequest doesn't has setTimeoutInterval this method</span></span><br><span class="line"><span class="built_in">NSMutableURLRequest</span> *request = [client requestWithMethod:<span class="string">@"GET"</span> path:<span class="string">@"/foo"</span> parameters:<span class="literal">nil</span>];</span><br><span class="line">[request setTimeoutInterval:<span class="number">60</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/8304560/how-to-set-a-timeout-with-afnetworking#answers" target="_blank" rel="noopener">How to set a timeout with AFNetworking</a></li>
</ul>
<hr>
<h4>Compare CGRect</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">CGRectEqualToRect</span>(someView.frame, anotherView.frame)) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"They are equal"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/12877496/comparing-two-cgrects#answers" target="_blank" rel="noopener">Comparing two CGRects</a></li>
</ul>
<hr>
<h4>Open browser when click on hyperlink in UIWebView</h4>
<p>In your <strong>FooViewController.h</strong>, make sure it conform to WebView's protocol</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">FooViewController</span> : <span class="title">UIViewController</span> &lt;<span class="title">UIWebViewDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p>In <strong>FooViewController.m</strong>, implement the delegate method</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - UIWebViewDelegate</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)webView:(<span class="built_in">UIWebView</span> *)webView shouldStartLoadWithRequest:(<span class="built_in">NSURLRequest</span> *)request navigationType:(<span class="built_in">UIWebViewNavigationType</span>)navigationType</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// if a hyperlink is onclick, open browser</span></span><br><span class="line">    <span class="keyword">if</span> (navigationType == <span class="built_in">UIWebViewNavigationTypeLinkClicked</span>) &#123;</span><br><span class="line">        [[<span class="built_in">UIApplication</span> sharedApplication] openURL:request.URL];</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://iphonedevsdk.com/forum/iphone-sdk-development/17251-launch-safari-from-uiwebview.html#Comment_181401" target="_blank" rel="noopener">Launch Safari from UIWebview</a></li>
</ul>
<hr>
<h4>Access property variable in closure</h4>
<p>When you see a warning <strong>Capturing 'self' strongly in this block is likely to lead to a retain cycle</strong>, you can't access via <strong>self</strong> inside the block.</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span>.coverImageView setImageWithURLRequest:[<span class="built_in">NSURLRequest</span> requestWithURL:[<span class="built_in">NSURL</span> URLWithString:[json valueForKeyPath:<span class="string">@"response.cover"</span>]]] placeholderImage:<span class="literal">nil</span> success:^(<span class="built_in">NSURLRequest</span> *request, <span class="built_in">NSHTTPURLResponse</span> *response, <span class="built_in">UIImage</span> *image) &#123;</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">self</span>.coverImageView.image = image; <span class="comment">// warning will be appeared here</span></span><br><span class="line">&#125; failure:^(<span class="built_in">NSURLRequest</span> *request, <span class="built_in">NSHTTPURLResponse</span> *response, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<p>The solution is</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">__<span class="keyword">weak</span> <span class="keyword">typeof</span>(<span class="keyword">self</span>) weakSelf = <span class="keyword">self</span>;</span><br><span class="line">[<span class="keyword">self</span>.coverImageView setImageWithURLRequest:[<span class="built_in">NSURLRequest</span> requestWithURL:[<span class="built_in">NSURL</span> URLWithString:[json valueForKeyPath:<span class="string">@"response.cover"</span>]]] placeholderImage:<span class="literal">nil</span> success:^(<span class="built_in">NSURLRequest</span> *request, <span class="built_in">NSHTTPURLResponse</span> *response, <span class="built_in">UIImage</span> *image) &#123;</span><br><span class="line">            </span><br><span class="line">    weakSelf.coverImageView.image = image;</span><br><span class="line">&#125; failure:^(<span class="built_in">NSURLRequest</span> *request, <span class="built_in">NSHTTPURLResponse</span> *response, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/14556605/capturing-self-strongly-in-this-block-is-likely-to-lead-to-a-retain-cycle#answer-14556706" target="_blank" rel="noopener">capturing self strongly in this block is likely to lead to a retain cycle</a></li>
</ul>
<hr>
<h4>Add a <strong>Done</strong> button to UISearchBar</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// add Done button to keyboard</span></span><br><span class="line"><span class="comment">// dummy bar button just to make the Done button to right-hand-side</span></span><br><span class="line"><span class="built_in">UIBarButtonItem</span> *dummyBarButton = [[<span class="built_in">UIBarButtonItem</span> alloc] initWithBarButtonSystemItem:<span class="built_in">UIBarButtonSystemItemFlexibleSpace</span> target:<span class="literal">nil</span> action:<span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">UIBarButtonItem</span> *doneBarButton = [[<span class="built_in">UIBarButtonItem</span> alloc] initWithBarButtonSystemItem:<span class="built_in">UIBarButtonSystemItemDone</span> target:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(hideKeyboard:)];</span><br><span class="line">[doneBarButton setStyle:<span class="built_in">UIBarButtonItemStyleDone</span>];</span><br><span class="line"><span class="built_in">UIToolbar</span> *keyboardToolbar = [[<span class="built_in">UIToolbar</span> alloc] init];</span><br><span class="line">[keyboardToolbar setBarStyle:<span class="built_in">UIBarStyleBlackTranslucent</span>];</span><br><span class="line">[keyboardToolbar sizeToFit];</span><br><span class="line">[keyboardToolbar setItems:[<span class="built_in">NSArray</span> arrayWithObjects:dummyBarButton, doneBarButton, <span class="literal">nil</span>]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">self</span>.searchBar = [[<span class="built_in">UISearchBar</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">320</span>, <span class="number">44</span>)];</span><br><span class="line"><span class="keyword">self</span>.searchBar.delegate = <span class="keyword">self</span>;</span><br><span class="line"><span class="keyword">self</span>.searchBar.placeholder = <span class="string">@"Search..."</span>;</span><br><span class="line"><span class="comment">// Access it subview (UITextField) and set the toolbar to it</span></span><br><span class="line"><span class="comment">// Since self.searchBar.inputAccessoryView = keyboardToolbar; will thrown error</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">UIView</span> *subView <span class="keyword">in</span> <span class="keyword">self</span>.searchBar.subviews) &#123;</span><br><span class="line">    <span class="keyword">if</span> ([subView conformsToProtocol:<span class="class"><span class="keyword">@protocol</span>(<span class="title">UITextInputTraits</span>)]) </span>&#123;</span><br><span class="line">        <span class="built_in">UITextField</span> *searchBarField = (<span class="built_in">UITextField</span> *)subView;</span><br><span class="line">        searchBarField.inputAccessoryView = keyboardToolbar;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[<span class="keyword">self</span>.view addSubview:<span class="keyword">self</span>.searchBar];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/12180457/issue-with-uisearchbar-inputaccessoryview#answer-12180620" target="_blank" rel="noopener">Issue with UISearchBar inputAccessoryView</a></li>
</ul>
<hr>
<h4>Change UISearchBar <strong>Search</strong> button to <strong>Done</strong></h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">self</span>.searchBar = [[<span class="built_in">UISearchBar</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">320</span>, <span class="number">44</span>)];</span><br><span class="line"><span class="keyword">self</span>.searchBar.delegate = <span class="keyword">self</span>;</span><br><span class="line"><span class="keyword">self</span>.searchBar.placeholder = <span class="string">@"Search..."</span>;</span><br><span class="line"><span class="comment">// Loop through all subviews in UISearchBar</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">UIView</span> *searchBarSubview <span class="keyword">in</span> [<span class="keyword">self</span>.searchBar subviews]) &#123;</span><br><span class="line">    <span class="comment">// Check if it is UITextField</span></span><br><span class="line">    <span class="keyword">if</span> ([searchBarSubview conformsToProtocol:<span class="class"><span class="keyword">@protocol</span>(<span class="title">UITextInputTraits</span>)]) </span>&#123;</span><br><span class="line">        <span class="keyword">@try</span> &#123;</span><br><span class="line">            <span class="comment">// Change the title "Search" to "Done"</span></span><br><span class="line">            [(<span class="built_in">UITextField</span> *)searchBarSubview setReturnKeyType:<span class="built_in">UIReturnKeyDone</span>];</span><br><span class="line">            <span class="comment">// set the style of keyboard</span></span><br><span class="line">            [(<span class="built_in">UITextField</span> *)searchBarSubview setKeyboardAppearance:<span class="built_in">UIKeyboardAppearanceAlert</span>];</span><br><span class="line">            <span class="comment">// Enable the "Done" button eventhough no text in search bar</span></span><br><span class="line">            [(<span class="built_in">UITextField</span> *)searchBarSubview setEnablesReturnKeyAutomatically:<span class="literal">NO</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">@catch</span> (<span class="built_in">NSException</span> * e) &#123;</span><br><span class="line">            <span class="comment">// ignore exception</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[<span class="keyword">self</span>.view addSubview:<span class="keyword">self</span>.searchBar];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4728338/iphone-uisearchbar-done-button-always-enabled#answer-5552906" target="_blank" rel="noopener">iphone UISearchBar Done button always enabled</a></li>
</ul>
<hr>
<h4>Remove all subviews from UIScrollView</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span>.scrollView.subviews makeObjectsPerformSelector:<span class="keyword">@selector</span>(removeFromSuperview)];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4102362/remove-all-the-subviews-from-a-uiscrollview#answer-4102431" target="_blank" rel="noopener">Remove all the subviews from a UIScrollView?</a></li>
</ul>
<hr>
<h4>Calculate visible &quot;radius&quot; from MKMapView</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// get the center coordinate</span></span><br><span class="line"><span class="built_in">CLLocationCoordinate2D</span> centerCoor = [<span class="keyword">self</span>.mapView centerCoordinate];</span><br><span class="line"><span class="comment">// get top left coordinate</span></span><br><span class="line"><span class="built_in">CLLocationCoordinate2D</span> topLeftCoor = [<span class="keyword">self</span>.mapView convertPoint:<span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">0</span>) toCoordinateFromView:<span class="keyword">self</span>.mapView];</span><br><span class="line"></span><br><span class="line"><span class="comment">// init locations based on coordinates</span></span><br><span class="line"><span class="built_in">CLLocation</span> *centerLocation = [[<span class="built_in">CLLocation</span> alloc] initWithLatitude:centerCoor.latitude longitude:centerCoor.longitude];</span><br><span class="line"><span class="built_in">CLLocation</span> *topLeftLocation = [[<span class="built_in">CLLocation</span> alloc] initWithLatitude:topLeftCoor.latitude longitude:topLeftCoor.longitude];</span><br><span class="line"></span><br><span class="line"><span class="comment">// get the distance between 2 locations</span></span><br><span class="line"><span class="built_in">CLLocationDistance</span> radius = [centerLocation distanceFromLocation:topLeftLocation];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Distance %.9f meters"</span>, radius);</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/1831634/how-to-get-left-top-and-right-buttom-latitude-and-longitude-of-map-in-mapkit#answer-1831660" target="_blank" rel="noopener">How to get left-top and right-buttom latitude and longitude of map in MapKit</a></li>
</ul>
<hr>
<h4>Draw a circle image</h4>
<p>This is basically just to draw a UIImage (circle) from code.</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIImage</span> *)drawCircleWithColor:(<span class="built_in">UIColor</span> *)color andSize:(<span class="built_in">CGSize</span>)size</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">CGRect</span> rect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, size.width, size.height);</span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(rect.size);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</span><br><span class="line">    <span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">4.0</span>);</span><br><span class="line">    <span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> whiteColor].CGColor);</span><br><span class="line">    <span class="built_in">CGContextSetFillColorWithColor</span>(context, color.CGColor);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CGContextBeginPath</span>(context);</span><br><span class="line">    <span class="built_in">CGContextAddEllipseInRect</span>(context, rect);</span><br><span class="line">    <span class="built_in">CGContextDrawPath</span>(context, kCGPathFillStroke); <span class="comment">// Or kCGPathFill</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">UIImage</span> *circle = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> circle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>References:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/9684006/drawing-two-circles-using-quartz-cgcontextfillellipseinrect#answer-9684158" target="_blank" rel="noopener">drawing two circles using Quartz CGContextFillEllipseInRect</a></li>
<li><a href="http://stackoverflow.com/questions/7141978/ios-generated-images-and-masking" target="_blank" rel="noopener">iOS, Generated images, and masking</a></li>
</ul>
<hr>
<h4>Create rectangle UIImage programmatically</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIImage</span> *)imageWithColor:(<span class="built_in">UIColor</span> *)color inSize:(<span class="built_in">CGSize</span>)size withCornerRadius:(<span class="built_in">CGFloat</span>)radius</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">CGRect</span> rect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, size.width, size.height);</span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(rect.size);</span><br><span class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</span><br><span class="line">    <span class="built_in">CGContextSetFillColorWithColor</span>(context, color.CGColor);</span><br><span class="line">    <span class="built_in">CGContextFillRect</span>(context, rect);</span><br><span class="line">    <span class="built_in">UIImage</span> *img = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (radius &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">UIGraphicsBeginImageContext</span>(size);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Add a clip before drawing anything, in the shape of an rounded rect</span></span><br><span class="line">        [[<span class="built_in">UIBezierPath</span> bezierPathWithRoundedRect:rect cornerRadius:radius] addClip];</span><br><span class="line">        <span class="comment">// Draw your image</span></span><br><span class="line">        [img drawInRect:rect];</span><br><span class="line">        img = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">        <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> img;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>References:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/6496441/creating-a-uiimage-from-a-uicolor-to-use-as-a-background-image-for-uibutton" target="_blank" rel="noopener">Creating a UIImage from a UIColor to use as a background image for UIButton</a></li>
<li><a href="http://stackoverflow.com/questions/10563986/uiimage-with-rounded-corners/10564035#10564035" target="_blank" rel="noopener">UIImage with rounded corners</a></li>
</ul>
<hr>
<h4>Update text on a specific UITableViewCell</h4>
<p>For example update, the fifth row in section 0</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSIndexPath</span> *fifthRow = [<span class="built_in">NSIndexPath</span> indexPathForRow:<span class="number">4</span> inSection:<span class="number">0</span>];</span><br><span class="line"><span class="built_in">UITableViewCell</span> *cell = [tableView cellForRowAtIndexPath:fifthRow];</span><br><span class="line">cell.textLabel.text = <span class="string">@"the updated text"</span>;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/8227742/uitableviewcell-how-do-i-update-textlabel-text-at-fifth-row#answer-8227807" target="_blank" rel="noopener">UITableViewCell: How do I update textLabel.text at fifth row?</a></li>
</ul>
<hr>
<h4>Remove last 2 character in NSMutableString</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableString</span> *str = [<span class="built_in">NSMutableString</span> stringWithString:<span class="string">@"Item 1, Item 2, "</span>];</span><br><span class="line">[str deleteCharactersInRange:<span class="built_in">NSMakeRange</span>([str length] - <span class="number">2</span>, <span class="number">2</span>)];</span><br></pre></td></tr></table></figure></p>
<p>Result will be <code>Item 1, Item 2</code></p>
<p>Reference: <a href="http://stackoverflow.com/questions/4675609/removing-the-last-character-from-an-nsmutablestring#answer-4675657" target="_blank" rel="noopener">Removing the last character from an NSMutableString</a></p>
<h2>Get all checked UITableViewCell</h2>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// options is the dataSource for the tableView</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; [options count]; i++) &#123;</span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView cellForRowAtIndexPath:[<span class="built_in">NSIndexPath</span> indexPathForRow:i inSection:<span class="number">0</span>]];</span><br><span class="line">    <span class="keyword">if</span> (cell.accessoryType == <span class="built_in">UITableViewCellAccessoryCheckmark</span>) &#123;</span><br><span class="line">        <span class="comment">// perform action here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4430570/selecting-multiple-rows-of-a-uitableview" target="_blank" rel="noopener">Selecting multiple rows of a UITableView</a></li>
</ul>
<hr>
<h4>UIView get index of subview</h4>
<p>Some time you might have some views is overlapping, when tapping a button, the 2 views will interchange, so you need to get the view's index to do comparison.</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIView</span> *superView = [[<span class="built_in">UIView</span> alloc] init];</span><br><span class="line"></span><br><span class="line"><span class="built_in">UITableView</span> *listView = [[<span class="built_in">UITableView</span> alloc] initWithFrame:superView.bounds];</span><br><span class="line">[superView addSubview:listView];</span><br><span class="line"></span><br><span class="line"><span class="built_in">UITableView</span> *gridView = [[<span class="built_in">UITableView</span> alloc] initWithFrame:superView.bounds];</span><br><span class="line">[superView addSubview:gridView];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> listViewIndex = [superView.subviews indexOfObject:listView];</span><br><span class="line"><span class="keyword">int</span> gridViewIndex = [superView.subviews indexOfObject:gridView];</span><br><span class="line"></span><br><span class="line"><span class="comment">// action here</span></span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2343432/how-to-get-uiview-hierarchy-index-i-e-the-depth-in-between-the-other-subvi#answer-2343472" target="_blank" rel="noopener">How to get UIView hierarchy index ??? (i.e. the depth in between the other subviews)</a></li>
</ul>
<hr>
<h4>UINavigationBar change back bar button text</h4>
<p>Let say there are 2 viewControllers, <strong>FirstViewController</strong> and <strong>SecondViewController</strong></p>
<p>In <strong>FirstViewController.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// This must be put in FirstViewController rather than SecondViewController</span></span><br><span class="line">    <span class="keyword">self</span>.navigationItem.backBarButtonItem = [[<span class="built_in">UIBarButtonItem</span> alloc] initWithTitle:<span class="string">@"Your title"</span></span><br><span class="line">                                                                             style:<span class="built_in">UIBarButtonItemStyleBordered</span></span><br><span class="line">                                                                            target:<span class="literal">nil</span></span><br><span class="line">                                                                            action:<span class="literal">nil</span>];</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>)navigateToSecondView</span><br><span class="line">&#123;</span><br><span class="line">    SecondViewController *controller = [[SecondViewController alloc] init];</span><br><span class="line">    [<span class="keyword">self</span>.navigationController pushViewController:controller animated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>When you navigate to <strong>SecondViewController</strong>, you will see <code>Your title</code> text appear in back button.</p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/1441699/uinavigationcontroller-back-button-custom-text#answer-1441718" target="_blank" rel="noopener">UINavigationController “back button” custom text?</a></li>
</ul>
<hr>
<h4>tableView:viewForFooterInSection VS tableView.tableFooterView</h4>
<p>If you want the footer to keep at the end of table view (it will scroll together with table cell), then use <code>tableView.tableFooterView</code></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIView</span> *footerView = [[<span class="built_in">UIView</span> alloc] initWithFrame:...];</span><br><span class="line">[footerView addSubview:someView];</span><br><span class="line"></span><br><span class="line">tableView.tableFooterView = footerView;</span><br></pre></td></tr></table></figure></p>
<p>If you're using <code>tableView:viewForFooterInSection</code>, then the view will stay at bottom of your visible screen for that particular section.
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (<span class="built_in">UIView</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView viewForFooterInSection:(<span class="built_in">NSInteger</span>)section</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UIView</span> *footerView = [[<span class="built_in">UIView</span> alloc] initWithFrame:...];</span><br><span class="line">    ...</span><br><span class="line">    [footerView addSubview:someView];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> footerView;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/5740518/uitableview-footer-stop-from-floating-over-content#answer-5751142" target="_blank" rel="noopener">UITableView Footer, Stop from floating over content</a></li>
</ul>
<hr>
<h4>RSA - Convert <code>.pem</code> to <code>.der</code> format</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *startPublicKey = <span class="string">@"-----BEGIN PUBLIC KEY-----"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *endPublicKey = <span class="string">@"-----END PUBLIC KEY-----"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// read .pem from file</span></span><br><span class="line"><span class="built_in">NSString</span>* path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"public_key"</span></span><br><span class="line">                                                     ofType:<span class="string">@"pem"</span>];</span><br><span class="line"><span class="comment">// get the content</span></span><br><span class="line"><span class="built_in">NSString</span>* content = [<span class="built_in">NSString</span> stringWithContentsOfFile:path</span><br><span class="line">                                                  encoding:<span class="built_in">NSUTF8StringEncoding</span></span><br><span class="line">                                                     error:<span class="literal">NULL</span>];</span><br><span class="line"><span class="comment">// remove the first line &amp; end line</span></span><br><span class="line"><span class="built_in">NSString</span> *publicKey;</span><br><span class="line"><span class="built_in">NSScanner</span> *scanner = [<span class="built_in">NSScanner</span> scannerWithString:content];</span><br><span class="line">[scanner scanUpToString:startPublicKey intoString:<span class="literal">nil</span>];</span><br><span class="line">[scanner scanString:startPublicKey intoString:<span class="literal">nil</span>];</span><br><span class="line">[scanner scanUpToString:endPublicKey intoString:&amp;publicKey];</span><br><span class="line"></span><br><span class="line"><span class="comment">// now this is in .der format</span></span><br><span class="line"><span class="built_in">NSData</span> *data = [<span class="built_in">NSData</span> base64DataFromString:publicKey];</span><br></pre></td></tr></table></figure></p>
<h5>References:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/16865466/load-public-key-from-pem-file-into-nsdata#answer-16868667" target="_blank" rel="noopener">Load public key from PEM file into NSData</a></li>
<li><a href="https://polarssl.org/kb/cryptography/asn1-key-structures-in-der-and-pem" target="_blank" rel="noopener">ASN.1 key structures in DER and PEM</a></li>
</ul>
<hr>
<h4>Storing Custom object to NSUserDefaults</h4>
<p>Let say you have an object <strong>Foo</strong></p>
<p><strong>Foo.h</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// conform to NSCoding</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Foo</span> : <span class="title">NSObject</span> &lt;<span class="title">NSCoding</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *desc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Foo.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Foo.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Foo</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> name = _name;</span><br><span class="line"><span class="keyword">@synthesize</span> desc = _desc;</span><br><span class="line"></span><br><span class="line"><span class="comment">// implement this 2 methods</span></span><br><span class="line">- (<span class="keyword">void</span>)encodeWithCoder:(<span class="built_in">NSCoder</span> *)aCoder</span><br><span class="line">&#123;</span><br><span class="line">    [aCoder encodeObject:<span class="keyword">self</span>.name forKey:<span class="string">@"Name"</span>];</span><br><span class="line">    [aCoder encodeObject:<span class="keyword">self</span>.desc forKey:<span class="string">@"Desc"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithCoder:(<span class="built_in">NSCoder</span> *)aDecoder</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span>.name = [aDecoder decodeObjectForKey:<span class="string">@"Name"</span>];</span><br><span class="line">    <span class="keyword">self</span>.desc = [aDecoder decodeObjectForKey:<span class="string">@"Desc"</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Now you can <strong>save</strong> your objects to NSUserDefaults</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSUserDefaults</span> *defaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line"><span class="built_in">NSMutableArray</span> *arr = ... ; <span class="comment">// set value</span></span><br><span class="line"><span class="built_in">NSData</span> *data = [<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject:arr];</span><br><span class="line">[defaults setObject:data forKey:<span class="string">@"theKeyInUserDefaults"</span>];</span><br></pre></td></tr></table></figure></p>
<p>and <strong>load</strong> it from NSUserDefaults</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSUserDefaults</span> *defaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line"><span class="built_in">NSData</span> *data = [defaults objectForKey:<span class="string">@"theKeyInUserDefaults"</span>];</span><br><span class="line"><span class="built_in">NSArray</span> *arr = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:data];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/471830/why-nsuserdefaults-failed-to-save-nsmutabledictionary-in-iphone-sdk/471920#471920" target="_blank" rel="noopener">Why NSUserDefaults failed to save NSMutableDictionary in iPhone SDK?</a></li>
</ul>
<hr>
<h4>Compare NSObject</h4>
<p>Override the <code>hash</code> &amp; <code>isEqual</code> methods</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSUInteger</span>)hash</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSUInteger</span> prime = <span class="number">31</span>;</span><br><span class="line">    <span class="built_in">NSUInteger</span> result = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// for object</span></span><br><span class="line">    result = prime * result + [<span class="keyword">self</span>.name hash];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// for primitive type</span></span><br><span class="line">    result = prime * result + <span class="keyword">self</span>.amount;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// for 64bit</span></span><br><span class="line">    result = prime * result + (<span class="keyword">int</span>) (<span class="keyword">self</span>.data64bit ^ (<span class="keyword">self</span>.data64bit &gt;&gt;&gt; <span class="number">32</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// for boolean</span></span><br><span class="line">    result = prime * result + (<span class="keyword">self</span>.isCorrect) ? <span class="number">1231</span> : <span class="number">1237</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)isEqual:(<span class="keyword">id</span>)object</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (![object isKindOfClass:[<span class="keyword">self</span> <span class="keyword">class</span>]]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> [<span class="keyword">self</span> hash] == [object hash];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/254281/best-practices-for-overriding-isequal-and-hash" target="_blank" rel="noopener">Best practices for overriding isEqual: and hash</a></li>
</ul>
<hr>
<h4>Change textLabel color of UITableViewCell in <code>selected</code> state</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cell.textLabel.highlightedTextColor = [<span class="built_in">UIColor</span> whiteColor];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/6736618/iphone-how-to-change-font-color-in-uitableviewcell-when-selected/6736711#6736711" target="_blank" rel="noopener">iPhone: How to change font color in UITableViewCell when selected?</a></li>
</ul>
<hr>
<h4>Rate Us: Open in AppStore</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSURL</span> *rateUrl = [<span class="built_in">NSURL</span> URLWithString:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?id=%@&amp;onlyLatestVersion=true&amp;pageNumber=0&amp;sortOrdering=1&amp;type=Purple+Software"</span>, <span class="string">@"YOUR_APP_ID_HERE"</span>]];</span><br><span class="line"></span><br><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] openURL:rateUrl];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/3124080/app-store-link-for-rate-review-this-app/3167015#3167015" target="_blank" rel="noopener">App store link for “rate/review this app”</a></li>
</ul>
<hr>
<h4>Add shadow to view without gradient</h4>
<p><img src="/images/short-notes/objective-c/shadow-without-gradient.png" alt="alt text" title="Shadow without gradient"></p>
<p>To add a shadow to UINavigationBar like image above</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// set shadow below</span></span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.layer.shadowRadius = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.layer.shadowOffset = <span class="built_in">CGSizeMake</span>(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.layer.shadowOpacity = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.layer.shadowColor = [<span class="built_in">UIColor</span> colorWithWhite:<span class="number">0.8</span> alpha:<span class="number">0.8</span>f].CGColor;</span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.layer.shadowPath = [<span class="built_in">UIBezierPath</span> bezierPathWithRoundedRect:<span class="keyword">self</span>.navigationController.navigationBar.bounds cornerRadius:<span class="keyword">self</span>.navigationController.navigationBar.layer.cornerRadius].CGPath;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/17539323/shadow-in-uiview-without-gradient/17539564#17539564" target="_blank" rel="noopener">Shadow in UIView without gradient ?</a></li>
</ul>
<hr>
<h4>Resign any first responder</h4>
<p>Some time we just want to hide the keyboard when clicked on a button, but we might not know which textField is currently showing keyboard. The line below will just resign any responder.</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span>.view endEditing:<span class="literal">YES</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/1823317/get-the-current-first-responder-without-using-a-private-api/2887690#2887690" target="_blank" rel="noopener">Get the current first responder without using a private API</a></li>
</ul>
<hr>
<h4>Loop through NSDictionary</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDictionary</span> *dict = ...;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">NSString</span> *key <span class="keyword">in</span> dict) &#123;</span><br><span class="line">    <span class="keyword">id</span> value = [dict objectForKey:key];</span><br><span class="line">    <span class="comment">// do stuff</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2143372/for-each-loop-in-objective-c-for-accessing-nsmutable-dictionary/2143389#2143389" target="_blank" rel="noopener">for each loop in objective c for accessing NSMutable dictionary</a></li>
</ul>
<hr>
<h4>UINavigationBar in iOS7 overlap the main content view issue</h4>
<p><img src="/images/short-notes/objective-c/ios-7-navigationbar.png" alt="alt text" title="NavigationBar overlapping">
<img src="/images/short-notes/objective-c/ios-7-navigationbar-fixed.png" alt="alt text" title="NavigationBar fixed"></p>
<p>In order to fix this, just add the line below</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">navigationController.navigationBar.translucent = <span class="literal">NO</span>;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/17074365/status-bar-and-navigation-bar-appear-over-my-views-bounds-in-ios-7" target="_blank" rel="noopener">Status bar and navigation bar appear over my view's bounds in iOS 7</a></li>
</ul>
<hr>
<h4>Draw UIImage from text</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIImage</span> *)imageFromText:(<span class="built_in">NSString</span> *)text</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// set the font type and size</span></span><br><span class="line">    <span class="built_in">UIFont</span> *font = [<span class="built_in">UIFont</span> fontWithName:<span class="string">@"Helvetica"</span> size:<span class="number">12</span>];</span><br><span class="line">    <span class="built_in">CGSize</span> size  = [text sizeWithFont:font];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// check if UIGraphicsBeginImageContextWithOptions is available (iOS is 4.0+)</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">UIGraphicsBeginImageContextWithOptions</span> != <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(size,<span class="literal">NO</span>,<span class="number">0.0</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="comment">// iOS is &lt; 4.0</span></span><br><span class="line">        <span class="built_in">UIGraphicsBeginImageContext</span>(size);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// optional: add a shadow, to avoid clipping the shadow you should make the context size bigger</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// CGContextRef ctx = UIGraphicsGetCurrentContext();</span></span><br><span class="line">    <span class="comment">// CGContextSetShadowWithColor(ctx, CGSizeMake(1.0, 1.0), 5.0, [[UIColor grayColor] CGColor]);</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// set text color</span></span><br><span class="line">    [[<span class="built_in">UIColor</span> colorWithWhite:<span class="number">1</span> alpha:<span class="number">0.55</span>] set];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// draw in context, you can use also drawInRect:withFont:</span></span><br><span class="line">    [text drawAtPoint:<span class="built_in">CGPointMake</span>(<span class="number">0.0</span>, <span class="number">0.0</span>) withFont:font];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// transfer image</span></span><br><span class="line">    <span class="built_in">UIImage</span> *image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2765537/how-do-i-use-the-nsstring-draw-functionality-to-create-a-uiimage-from-text/2768081#2768081" target="_blank" rel="noopener">How do I use the NSString draw functionality to create a UIImage from text</a></li>
</ul>
<hr>
<h4>Change UINavigationBar style</h4>
<p>In AppDelegate.m</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">// change the font &amp; text color</span></span><br><span class="line">    [[<span class="built_in">UINavigationBar</span> appearance] setTitleTextAttributes:[<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:</span><br><span class="line">                      [<span class="built_in">UIFont</span> fontWithName:<span class="string">@"CustomFont-Bold"</span> size:<span class="number">18</span>], <span class="built_in">UITextAttributeFont</span>,</span><br><span class="line">                      [<span class="built_in">UIColor</span> whiteColor], <span class="built_in">UITextAttributeTextColor</span>,</span><br><span class="line">                      <span class="comment">// make the text FLAT</span></span><br><span class="line">                      [<span class="built_in">UIColor</span> clearColor], <span class="built_in">UITextAttributeTextShadowColor</span>,</span><br><span class="line">                      <span class="literal">nil</span>]];</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>This is same to <code>UIBarButtonItem</code></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/8774531/change-uinavigationbar-font-properties/12364740#12364740" target="_blank" rel="noopener">Change UINavigationBar font properties?</a></li>
</ul>
<hr>
<h4>UINavigationBar bar button image color for iOS7</h4>
<p>In iOS7, even you set an image which is white color, it will automatic become blue color. This can change it by <code>tintColor</code>.</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([[<span class="built_in">UIDevice</span> currentDevice].systemVersion floatValue] &gt;= <span class="number">7</span>) &#123;</span><br><span class="line">    [[<span class="built_in">UINavigationBar</span> appearance] setTintColor:[<span class="built_in">UIColor</span> whiteColor]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Change status bar text color for iOS7</h4>
<p><strong>On ViewController</strong></p>
<ol>
<li>Set the <code>UIViewControllerBasedStatusBarAppearance</code> to <code>YES</code> in the plist.</li>
<li>Edit <code>ViewController.m</code></li>
</ol>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ADD THIS LINE</span></span><br><span class="line">    [<span class="keyword">self</span> setNeedsStatusBarAppearanceUpdate];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ADD THIS METHOD</span></span><br><span class="line">- (<span class="built_in">UIStatusBarStyle</span>)preferredStatusBarStyle &#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">UIStatusBarStyleLightContent</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>OR</strong> Update the <code>UINavigationBar</code> color, then it will follow. Put the code below to <code>application:didFinishLaunchingWithOptions:</code></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// only for iOS7</span></span><br><span class="line"><span class="keyword">if</span> ([[<span class="built_in">UIDevice</span> currentDevice].systemVersion floatValue] &gt;= <span class="number">7</span>) &#123;</span><br><span class="line">    [[<span class="built_in">UINavigationBar</span> appearance] setBarTintColor:[<span class="built_in">UIColor</span> yellowColor]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>On splash screen</strong></p>
<p>Edit <code>Info.plist</code></p>
<p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>UIStatusBarStyle<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>UIStatusBarStyleLightContent<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h5>References:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/17678881/how-to-change-status-bar-text-color-in-ios-7/17768797#17768797" target="_blank" rel="noopener">How to change Status Bar text color in iOS 7</a></li>
<li><a href="http://stackoverflow.com/questions/18924345/how-to-change-status-bar-style-during-launch-on-ios-7/18924428#18924428" target="_blank" rel="noopener">How to change status bar style during launch on iOS 7</a></li>
<li><a href="http://stackoverflow.com/questions/19176784/how-to-set-status-bar-background-color-ios-7/19176975#19176975" target="_blank" rel="noopener">How to set Status bar background color iOS 7 [duplicate]</a></li>
</ul>
<hr>
<h4>UIView autoresizingMask to bottom left</h4>
<p>If want to achive the result like this in programmatic way</p>
<p><img src="/images/short-notes/objective-c/autoresizingmask-bottom-left.png" alt="alt text" title="To bottom left"></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// flexible right &amp; flexible top</span></span><br><span class="line">view.autoresizingMask = <span class="built_in">UIViewAutoresizingFlexibleRightMargin</span> | <span class="built_in">UIViewAutoresizingFlexibleTopMargin</span>;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/3069388/uiview-autoresizingmask-problem/3069427#3069427" target="_blank" rel="noopener">UIView autoresizingMask problem</a></li>
</ul>
<hr>
<h4>Check location service enabled for this app</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([<span class="built_in">CLLocationManager</span> authorizationStatus] == kCLAuthorizationStatusDenied) &#123;</span><br><span class="line">    <span class="comment">// location service is not allowed for this app</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4700987/how-to-check-if-location-services-are-enabled-for-a-particular-app-prior-to-ios#comment-21140860" target="_blank" rel="noopener">How to check if location services are enabled for a particular app prior to iOS 4.2?</a></li>
</ul>
<hr>
<h4>A trigger of after view added to subview</h4>
<p>A <code>CustomView</code> want to execute some logic once added to other view</p>
<p><strong>ViewController.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CustomView *view = [[CustomView alloc] init];</span><br><span class="line">[<span class="keyword">self</span>.view addSubview:view];</span><br></pre></td></tr></table></figure></p>
<p><strong>CustomView.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)didMoveToSuperview</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Just added to other view"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/6162211/iphone-ios-will-there-be-called-any-method-if-a-uiview-is-added-as-a-subview/6162228#6162228" target="_blank" rel="noopener">iPhone/iOS: Will there be called any method if a UIView is added as a subview</a></li>
</ul>
<hr>
<h4>Show static map (Google) on UIImageView</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(position_x, position_y, width, height)];</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> latitude = <span class="number">3.4005</span>, longitude = <span class="number">101.34888</span>;</span><br><span class="line"><span class="keyword">int</span> zoomLevel = <span class="number">11</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *staticMapUrlString = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"http://maps.google.com/maps/api/staticmap?markers=color%%3Ared%%7C%f,%f&amp;zoom=%d&amp;size=%dx%d&amp;sensor=true"</span>, latitude, longitude, zoomLevel, (<span class="keyword">int</span>)imageView.bounds.size.width, (<span class="keyword">int</span>)imageView.bounds.size.height];</span><br><span class="line"><span class="built_in">NSURL</span> *staticMapUrl = [<span class="built_in">NSURL</span> URLWithString:staticMapUrlString];</span><br><span class="line"></span><br><span class="line">imageView.image = [<span class="built_in">UIImage</span> imageWithData: [<span class="built_in">NSData</span> dataWithContentsOfURL:staticMapUrl]];</span><br></pre></td></tr></table></figure></p>
<p>String encoding in URL</p>
<ul>
<li><code>%%3A</code> - is refer to colon <em>(:)</em>, the <strong>double percent</strong> <em>(%%)</em> is to escape the string parameters</li>
<li><code>%%7C</code> - is refer to the pipe line <em>(|)</em></li>
</ul>
<h5>References:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/7175300/get-part-of-the-map-view-as-an-image-in-ios/7950179#7950179" target="_blank" rel="noopener">Get part of the map view as an image in iOS</a></li>
<li><a href="http://en.wikipedia.org/wiki/Percent-encoding" target="_blank" rel="noopener">Percent-encoding</a></li>
</ul>
<hr>
<h4>Detect <code>double tap</code> event on UIImageView</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    ImageView *imageView = [[<span class="built_in">UIImageView</span> alloc] initWithFrame:frame];</span><br><span class="line">    imageView.image = image;</span><br><span class="line">    imageView.userInteractionEnabled = <span class="literal">YES</span>; <span class="comment">// must enable</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">UITapGestureRecognizer</span> *tap = [[<span class="built_in">UITapGestureRecognizer</span> alloc] initWithTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(imageTapped:)];</span><br><span class="line">    [tap setDelaysTouchesBegan:<span class="literal">YES</span>];</span><br><span class="line">    tap.numberOfTapsRequired = <span class="number">2</span>; <span class="comment">// double tap</span></span><br><span class="line">    tap.numberOfTouchesRequired = <span class="number">1</span>;</span><br><span class="line">    [imageView addGestureRecognizer:tap];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)imageTapped:(<span class="built_in">UITapGestureRecognizer</span> *)sender</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Double tapped"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/3905125/detect-double-tap-in-uiscrollview/12172200#12172200" target="_blank" rel="noopener">Detect Double tap in UIScrollView</a></li>
</ul>
<hr>
<h4>Show character by give ASCII code (int) or vice versa</h4>
<p><strong>Integer to alphabet</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> asciiCode = <span class="number">97</span>;</span><br><span class="line"><span class="built_in">NSString</span> *alphabet = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%c"</span>, asciiCode]; <span class="comment">// a</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Alphabet to integer</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *alphabet = <span class="string">@"a"</span>;</span><br><span class="line"><span class="keyword">int</span> asciiCode = [alphabet characterAtIndex:<span class="number">0</span>]; <span class="comment">// 97</span></span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2832729/how-to-convert-ascii-value-to-a-character-in-objective-c/2832933#2832933" target="_blank" rel="noopener">How to convert ASCII value to a character in Objective-C?</a></li>
</ul>
<hr>
<h4>Change UITabBarController tint color</h4>
<p>Change the bar color</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tabBarController.tabBar.barTintColor = [<span class="built_in">UIColor</span> blackColor];</span><br></pre></td></tr></table></figure></p>
<p>Change the icon &amp; text color</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tabBarController.tabBar.tintColor = [<span class="built_in">UIColor</span> whiteColor];</span><br></pre></td></tr></table></figure></p>
<p>Change the text color only</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// change the selected text color</span></span><br><span class="line">[[<span class="built_in">UITabBarItem</span> appearance] setTitleTextAttributes:@&#123;<span class="built_in">NSFontAttributeName</span>: [<span class="built_in">UIFont</span> fontWithName:<span class="string">@"Helvetica"</span> size:<span class="number">10.0</span>f],</span><br><span class="line">                                                    <span class="built_in">NSForegroundColorAttributeName</span>: [<span class="built_in">UIColor</span> whiteColor]</span><br><span class="line">                                                    &#125; forState:<span class="built_in">UIControlStateSelected</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// change the unselected text color</span></span><br><span class="line">[[<span class="built_in">UITabBarItem</span> appearance] setTitleTextAttributes:@&#123;<span class="built_in">NSFontAttributeName</span>: [<span class="built_in">UIFont</span> fontWithName:<span class="string">@"Helvetica"</span> size:<span class="number">10.0</span>f],</span><br><span class="line">                                                    <span class="built_in">NSForegroundColorAttributeName</span>: [<span class="built_in">UIColor</span> whiteColor]</span><br><span class="line">                                                    &#125; forState:<span class="built_in">UIControlStateNormal</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/18734794/how-can-i-change-the-text-and-icon-colors-for-tabbaritems-in-ios-7/18734795#18734795" target="_blank" rel="noopener">How can I change the text and icon colors for tabBarItems in iOS 7?</a></li>
</ul>
<hr>
<h4>Fix the status bar some time not showing text on iOS7</h4>
<p>Edit <strong>Project-Info.plist</strong> file, add the content below</p>
<p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>UIViewControllerBasedStatusBarAppearance<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">false</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>Or open in <strong>Property list</strong></p>
<p><img src="/images/short-notes/objective-c/status-bar-appearance.png" alt="alt text" title="Status bar appearance"></p>
<hr>
<h4>Extract submatch from string using regular expression</h4>
<p>Example here shows extract date from NSDate object</p>
<p>The format we want is <strong>YYYY-MM-DD</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"date %@"</span>, date);</span><br><span class="line"><span class="comment">// this will return (for example)</span></span><br><span class="line"><span class="comment">// 2014-01-27 10:17:00 +0000</span></span><br></pre></td></tr></table></figure></p>
<p>So we can extract out the part using regex</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDate</span> *date = ...;</span><br><span class="line"></span><br><span class="line"><span class="comment">// extract 4 integers followed by a dash followed by 2 integers followed by a dash followed by 2 integers again</span></span><br><span class="line"><span class="built_in">NSRegularExpression</span> *regex = [<span class="built_in">NSRegularExpression</span> regularExpressionWithPattern:<span class="string">@"(\\d&#123;4&#125;-\\d&#123;2&#125;-\\d&#123;2&#125;)"</span></span><br><span class="line">                                                                       options:<span class="built_in">NSRegularExpressionCaseInsensitive</span></span><br><span class="line">                                                                         error:&amp;error];</span><br><span class="line">[regex enumerateMatchesInString:date.description options:<span class="number">0</span> range:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, date.description.length) usingBlock:^(<span class="built_in">NSTextCheckingResult</span> *result, <span class="built_in">NSMatchingFlags</span> flags, <span class="built_in">BOOL</span> *stop) &#123;</span><br><span class="line">    <span class="comment">// just get the substring by the range</span></span><br><span class="line">    <span class="built_in">NSString</span> *dateStr = [sender.date.description substringWithRange:[result rangeAtIndex:<span class="number">0</span>]];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Date only: %@"</span>, dateStr);</span><br><span class="line">    <span class="comment">// this will show</span></span><br><span class="line">    <span class="comment">// Date only: 2014-01-27</span></span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<p><strong>Update</strong></p>
<p>For this case, want to extract out the <code>minutes</code> &amp; <code>seconds</code></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *message = <span class="string">@"Your computer will be shutdown in 3 minutes 25 seconds"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Only match for the minutes &amp; seconds</span></span><br><span class="line"><span class="built_in">NSRegularExpression</span> *regex = [<span class="built_in">NSRegularExpression</span> regularExpressionWithPattern:<span class="string">@"(\\d+) minutes (\\d+) seconds"</span></span><br><span class="line">                                                                       options:<span class="built_in">NSRegularExpressionCaseInsensitive</span></span><br><span class="line">                                                                         error:&amp;error];</span><br><span class="line">[regex enumerateMatchesInString:date.description options:<span class="number">0</span> range:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, date.description.length) usingBlock:^(<span class="built_in">NSTextCheckingResult</span> *result, <span class="built_in">NSMatchingFlags</span> flags, <span class="built_in">BOOL</span> *stop) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// `rangeAtIndex` 0 will be "3 minutes 25 seconds, so we don't take</span></span><br><span class="line">    <span class="comment">// `rangeAtIndex` 1 will be "3"</span></span><br><span class="line">    <span class="comment">// `rangeAtIndex` 2 will be "25"</span></span><br><span class="line">    <span class="keyword">int</span> minutes = [[message substringWithRange:[result rangeAtIndex:<span class="number">1</span>]] intValue];</span><br><span class="line">    <span class="keyword">int</span> seconds = [[message substringWithRange:[result rangeAtIndex:<span class="number">2</span>]] intValue];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%dm %ds"</span>, minutes, seconds); <span class="comment">// 3m 25s</span></span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<p>It always matches the main match then only followed by submatch</p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/9601551/extract-parts-from-regular-expression-with-nsregularexpression/9656243#9656243" target="_blank" rel="noopener">Extract parts from regular expression with NSRegularExpression</a></li>
</ul>
<hr>
<h4>Resize UIImage</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">+ (<span class="built_in">UIImage</span> *)resizeImage:(<span class="built_in">UIImage</span> *)image withSize:(<span class="built_in">CGSize</span>)size retainAspectRatio:(<span class="built_in">BOOL</span>)aspectRatio</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">CGSize</span> newSize = size;</span><br><span class="line">    <span class="keyword">if</span> (aspectRatio) &#123;</span><br><span class="line">        <span class="comment">// whether is based on width to calculate or height</span></span><br><span class="line">        <span class="built_in">BOOL</span> baseOnWidth = size.width &gt; size.height ? <span class="literal">YES</span> : <span class="literal">NO</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (baseOnWidth) &#123;</span><br><span class="line">            newSize.height = (size.width / image.size.width) * image.size.height;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            newSize.width = (size.height / image.size.height) * image.size.width;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(newSize, <span class="literal">NO</span>, <span class="number">0.0</span>);</span><br><span class="line">    [image drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, newSize.width, newSize.height)];</span><br><span class="line">    <span class="built_in">UIImage</span> *newImage = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line">    <span class="keyword">return</span> newImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2658738/the-simplest-way-to-resize-an-uiimage/2658801#2658801" target="_blank" rel="noopener">The simplest way to resize an UIImage?</a></li>
</ul>
<hr>
<h4><code>UISegmentedControl</code> deselect segment</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[segmentedControl setSelectedSegmentIndex:<span class="built_in">UISegmentedControlNoSegment</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2206066/uisegmentedcontrol-deselect-make-none-of-the-segments-selected/9164981#9164981" target="_blank" rel="noopener">UISegmentedControl deselect (make none of the segments selected)</a></li>
</ul>
<hr>
<h4><code>UISegmentedControl</code> change text &amp; border color</h4>
<p>Border color</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">segmentedControl.tintColor =[<span class="built_in">UIColor</span> colorWithRed:<span class="number">50</span>/<span class="number">255.0</span>f green:<span class="number">150</span>/<span class="number">255.0</span>f blue:<span class="number">100</span>/<span class="number">255.0</span>f alpha:<span class="number">1</span>];</span><br></pre></td></tr></table></figure></p>
<p>Text color</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[segmentedControl setTitleTextAttributes:@&#123;<span class="built_in">UITextAttributeTextColor</span>: [<span class="built_in">UIColor</span> blueColor]&#125; forState:<span class="built_in">UIControlStateSelected</span>];</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Add <code>UISegmentedControl</code> to <code>UIToolbar</code></h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UISegmentedControl</span> *nextPrevSegment = [[<span class="built_in">UISegmentedControl</span> alloc] initWithItems:@[<span class="string">@"Previous"</span>, <span class="string">@"Next"</span>]];</span><br><span class="line">nextPrevSegment.segmentedControlStyle = <span class="built_in">UISegmentedControlStyleBar</span>;</span><br><span class="line">[nextPrevSegment addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(nextPrevTouched:) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</span><br><span class="line"><span class="built_in">UIBarButtonItem</span> *segmentedControlButtonItem = [[<span class="built_in">UIBarButtonItem</span> alloc] initWithCustomView:(<span class="built_in">UIView</span> *)nextPrevSegment];</span><br><span class="line"><span class="built_in">UIToolbar</span> *keyboardToolbar = [[<span class="built_in">UIToolbar</span> alloc] init];</span><br><span class="line">[keyboardToolbar setTintColor:[<span class="built_in">UIColor</span> whiteColor]];</span><br><span class="line">[keyboardToolbar sizeToFit];</span><br><span class="line">[keyboardToolbar setItems:[<span class="built_in">NSArray</span> arrayWithObjects:segmentedControlButtonItem, [[<span class="built_in">UIBarButtonItem</span> alloc] initWithBarButtonSystemItem:<span class="built_in">UIBarButtonSystemItemFlexibleSpace</span> target:<span class="literal">nil</span> action:<span class="literal">nil</span>], <span class="literal">nil</span>]];</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Use custom font in <code>UIWebView</code></h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *html = <span class="string">@"&lt;p&gt;This is a paragraph&lt;\/p&gt;"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *htmlString = </span><br><span class="line">    [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"&lt;font face='GothamRounded-Bold' size='2'&gt;%@"</span>, html];</span><br><span class="line">[webView loadHTMLString:htmlString baseURL:<span class="literal">nil</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/12533445/how-to-change-uiwebview-default-font/15940938#15940938" target="_blank" rel="noopener">How to change UIWebView default font</a></li>
</ul>
<hr>
<h4>Set delay to perform action</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> delayInSeconds = <span class="number">2.0</span>;</span><br><span class="line">dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, delayInSeconds * <span class="built_in">NSEC_PER_SEC</span>);</span><br><span class="line">dispatch_after(popTime, dispatch_get_main_queue(), ^(<span class="keyword">void</span>)&#123;</span><br><span class="line">    <span class="comment">//code to be executed on the main queue after delay</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Action here delayed 2 seconds."</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/9634790/how-to-call-a-method-with-delay/9634819#9634819" target="_blank" rel="noopener">how to call a method with delay</a></li>
</ul>
<hr>
<h4>Remove section border for iOS6</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cell.backgroundView = [<span class="built_in">UIView</span> new];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4202965/removing-cell-borders-from-a-section-of-grouped-style-uitableview/6808255#6808255" target="_blank" rel="noopener">Removing cell borders from a section of grouped-style UITableView</a></li>
</ul>
<hr>
<h4>UITableView grouped style change background color for iOS6</h4>
<p>transparent background</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tableView.backgroundView = [<span class="built_in">UIView</span> new];</span><br></pre></td></tr></table></figure></p>
<p>for color background</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIView</span>* bview = [[<span class="built_in">UIView</span> alloc] init];</span><br><span class="line">bview.backgroundColor = [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line">[tableView setBackgroundView:bview];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/12617913/set-background-color-on-uitableview-in-ios-6/12617972#12617972" target="_blank" rel="noopener">Set background color on UITableView in IOS 6 [duplicate]</a></li>
</ul>
<hr>
<h4>Make the UINavigationBar transparent</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.shadowImage = [<span class="built_in">UIImage</span> new];</span><br><span class="line"><span class="comment">// remove the inner shadow</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for iOS 7, remove the background image</span></span><br><span class="line"><span class="keyword">if</span> ([[<span class="built_in">UIDevice</span> currentDevice].systemVersion floatValue] &gt;= <span class="number">7</span>) &#123;</span><br><span class="line">    [<span class="keyword">self</span>.navigationController.navigationBar setBackgroundImage:[<span class="built_in">UIImage</span> new] forBarMetrics:<span class="built_in">UIBarMetricsDefault</span>];</span><br><span class="line">    <span class="keyword">self</span>.navigationController.navigationBar.shadowImage = [<span class="built_in">UIImage</span> new];</span><br><span class="line">    <span class="keyword">self</span>.navigationController.navigationBar.translucent = <span class="literal">YES</span>;</span><br><span class="line">    <span class="keyword">self</span>.navigationController.view.backgroundColor = [<span class="built_in">UIColor</span> clearColor];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; <span class="comment">// for iOS 6, set the image filled with color that same as the view's background color</span></span><br><span class="line">    <span class="comment">// see https://github.com/jslim89/js-learning-journey/tree/master/programming/objective-c#create-rectangle-uiimage-programmatically</span></span><br><span class="line">    [<span class="keyword">self</span>.navigationController.navigationBar setBackgroundImage:[MyClass imageWithColor:[<span class="built_in">UIColor</span> yellowColor] inSize:<span class="built_in">CGSizeMake</span>(<span class="number">320</span>, <span class="number">44</span>) withCornerRadius:<span class="number">0</span>] forBarMetrics:<span class="built_in">UIBarMetricsDefault</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>References:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/18160173/how-to-remove-uinavigationbar-inner-shadow-in-ios-7/19279550#19279550" target="_blank" rel="noopener">How to remove UINavigationBar inner shadow in iOS 7?</a></li>
<li><a href="http://stackoverflow.com/questions/21850622/transparent-uinavigationbar/21850947#21850947" target="_blank" rel="noopener">Transparent UINavigationBar</a></li>
</ul>
<hr>
<h4>Set 2 different colors in a view</h4>
<p>This can be achieved by using <code>CALayer</code></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">CALayer</span> *sublayer = [<span class="built_in">CALayer</span> layer];</span><br><span class="line">sublayer.backgroundColor = [<span class="built_in">UIColor</span> yellowColor].CGColor;</span><br><span class="line">sublayer.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">300</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">100</span>);</span><br><span class="line">[<span class="keyword">self</span>.view.layer addSublayer:sublayer];</span><br></pre></td></tr></table></figure></p>
<p>This will set the color of view to yellow color in (0, 300, 320, 100)</p>
<hr>
<h4><code>UITableView</code> delegate after <code>reloadData</code> is called</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>) tableView:(<span class="built_in">UITableView</span> *)tableView willDisplayCell:(<span class="built_in">UITableViewCell</span> *)cell forRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(indexPath.row == ((<span class="built_in">NSIndexPath</span>*)[[tableView indexPathsForVisibleRows] lastObject]).row)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Finished loaded"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4163579/how-to-detect-the-end-of-loading-of-uitableview/11672379#11672379" target="_blank" rel="noopener">How to detect the end of loading of UITableView</a></li>
</ul>
<hr>
<h4>Bold certain text on <code>UILabel</code></h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// normal font</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *attrs = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:</span><br><span class="line">                       [<span class="built_in">UIFont</span> fontWithName:<span class="string">@"Helvetica"</span> size:<span class="number">20</span>], <span class="built_in">NSFontAttributeName</span>,</span><br><span class="line">                       [<span class="built_in">UIColor</span> whiteColor], <span class="built_in">NSForegroundColorAttributeName</span>,</span><br><span class="line">                       <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// bold font</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *boldAttrs = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:</span><br><span class="line">                          [<span class="built_in">UIFont</span> fontWithName:<span class="string">@"Helvetica-Bold"</span> size:<span class="number">20</span>], <span class="built_in">NSFontAttributeName</span>, <span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *text = <span class="string">@"The quick brown fox jumps over the lazy dog"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSRange</span> range = <span class="built_in">NSMakeRange</span>(<span class="number">4</span>, <span class="number">15</span>); <span class="comment">// bold the text "quick brown fox"</span></span><br><span class="line"><span class="comment">// init with regular attributes</span></span><br><span class="line"><span class="built_in">NSMutableAttributedString</span> *textAttr = [[<span class="built_in">NSMutableAttributedString</span> alloc] initWithString:text attributes:attrs];</span><br><span class="line">[textAttr setAttributes:boldAttrs range:range]; <span class="comment">// set specific attributes for range of text</span></span><br><span class="line">[myLabel setAttributedText:textAttr];</span><br></pre></td></tr></table></figure></p>
<p><strong>NOTE: This is for iOS6 and above only</strong></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/3586871/bold-non-bold-text-in-a-single-uilabel/3586943#3586943" target="_blank" rel="noopener">Bold &amp; Non-Bold Text In A Single UILabel?</a></li>
</ul>
<hr>
<h4>Create class dynamically from string</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span>* className = <span class="string">@"MyClass"</span>;</span><br><span class="line">[[<span class="built_in">NSClassFromString</span>(className) alloc] init...];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2951828/create-object-from-nsstring-of-class-name-in-objective-c/2951835#2951835" target="_blank" rel="noopener">Create object from NSString of class name in Objective-C</a></li>
</ul>
<hr>
<h4>Check is <code>nib</code> exists</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>([[<span class="built_in">NSBundle</span> mainBundle] pathForResource:fileName ofType:<span class="string">@"nib"</span>] != <span class="literal">nil</span>) &#123;</span><br><span class="line">    <span class="comment">// nib exists</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/923706/checking-if-a-nib-or-xib-file-exists/932023#932023" target="_blank" rel="noopener">Checking if a .nib or .xib file exists</a></li>
</ul>
<hr>
<h4>Default share on iOS 6 and above</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)shareText:(<span class="built_in">NSString</span> *)string andImage:(<span class="built_in">UIImage</span> *)image</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *sharingItems = [<span class="built_in">NSMutableArray</span> new];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (string) &#123;</span><br><span class="line">        [sharingItems addObject:string];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (image) &#123;</span><br><span class="line">        [sharingItems addObject:image];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">UIActivityViewController</span> *activityController = [[<span class="built_in">UIActivityViewController</span> alloc] initWithActivityItems:sharingItems applicationActivities:<span class="literal">nil</span>];</span><br><span class="line">    [<span class="keyword">self</span> presentViewController:activityController animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/13498459/how-to-display-the-default-ios-6-share-action-sheet-with-available-share-options/13499204#13499204" target="_blank" rel="noopener">How to display the default iOS 6 share action sheet with available share options?</a></li>
</ul>
<hr>
<h4>Sort CoreData children objects</h4>
<p>In <strong>MyParent.h</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>) <span class="built_in">NSSet</span> *children;</span><br><span class="line"></span><br><span class="line"><span class="comment">// add this</span></span><br><span class="line">- (<span class="built_in">NSArray</span> *)sortedChildren;</span><br></pre></td></tr></table></figure></p>
<p>In <strong>MyParent.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">- (<span class="built_in">NSArray</span> *)sortedChildren</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSSortDescriptor</span> *timestamp = [<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"timestamp"</span> ascending:<span class="literal">YES</span>];</span><br><span class="line">    <span class="keyword">return</span> [[<span class="keyword">self</span>.conversations allObjects] sortedArrayUsingDescriptors:[<span class="built_in">NSArray</span> arrayWithObject:timestamp]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Then you can now invoked by <code>[myparent sortedChildren]</code></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2524284/core-data-sorting-one-to-many-child-objects/2530879#2530879" target="_blank" rel="noopener">Core data, sorting one-to-many child objects</a></li>
</ul>
<hr>
<h4>Long press event on table row</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// add to the tableView instead of tableViewCell</span></span><br><span class="line">    <span class="built_in">UILongPressGestureRecognizer</span> *longPress = [[<span class="built_in">UILongPressGestureRecognizer</span> alloc] initWithTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(tableViewPressed:)];</span><br><span class="line">    [<span class="keyword">self</span>.tableView addGestureRecognizer:longPress];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)tableViewPressed:(<span class="built_in">UILongPressGestureRecognizer</span> *)sender</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (sender.state == <span class="built_in">UIGestureRecognizerStateBegan</span>) &#123; <span class="comment">// only take action in this state</span></span><br><span class="line">        <span class="built_in">CGPoint</span> point = [sender locationInView:<span class="keyword">self</span>.tableView]; <span class="comment">// get the point (x, y)</span></span><br><span class="line">        <span class="built_in">NSIndexPath</span> *indexPath = [<span class="keyword">self</span>.tableView indexPathForRowAtPoint:point]; <span class="comment">// look for correct indexPath</span></span><br><span class="line">        <span class="comment">// in case you have section header</span></span><br><span class="line">        <span class="built_in">CGFloat</span> headerHeight = [<span class="keyword">self</span> tableView:<span class="keyword">self</span>.tableView heightForHeaderInSection:indexPath.section];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// first row should be at the offset y which between (height of header view) and rowHeight + header for header view</span></span><br><span class="line">        <span class="keyword">if</span> ((point.y &lt; headerHeight || point.y &gt; (<span class="keyword">self</span>.tableView.rowHeight + headerHeight)) &amp;&amp; indexPath.row == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// do action here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Clear CoreData tables</h4>
<p><strong>AppDelegate.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)flushDatabase</span><br><span class="line">&#123;</span><br><span class="line">    [__managedObjectContext lock];</span><br><span class="line">    <span class="built_in">NSArray</span> *stores = [__persistentStoreCoordinator persistentStores];</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">NSPersistentStore</span> *store <span class="keyword">in</span> stores) &#123;</span><br><span class="line">       [__persistentStoreCoordinator removePersistentStore:store error:<span class="literal">nil</span>];</span><br><span class="line">       [[<span class="built_in">NSFileManager</span> defaultManager] removeItemAtPath:store.URL.path error:<span class="literal">nil</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    [__managedObjectContext unlock];</span><br><span class="line">    __managedObjectModel    = <span class="literal">nil</span>;</span><br><span class="line">    __managedObjectContext  = <span class="literal">nil</span>;</span><br><span class="line">    __persistentStoreCoordinator = <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/14727583/clearing-coredata-and-all-that-inside/14886421#14886421" target="_blank" rel="noopener">Clearing CoreData and all that inside</a></li>
</ul>
<hr>
<h4>Compare <code>CGAffineTransform</code></h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">CGAffineTransformEqualToTransform</span>(transform, <span class="built_in">CGAffineTransformIdentity</span>)) &#123;</span><br><span class="line">    <span class="comment">// is equal</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/19583119/how-to-compare-cgaffinetransform/19583332#19583332" target="_blank" rel="noopener">How to Compare CGAffinetransform?</a></li>
</ul>
<hr>
<h4><code>UILabel</code> justify text to fit left &amp; right</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableParagraphStyle</span> *paragraphStyles = [[<span class="built_in">NSMutableParagraphStyle</span> alloc] init];</span><br><span class="line">paragraphStyles.alignment = <span class="built_in">NSTextAlignmentJustified</span>;</span><br><span class="line">paragraphStyles.firstLineHeadIndent = <span class="number">0.05</span>;    <span class="comment">// Very IMP</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NSDictionary</span> *attrs = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:</span><br><span class="line">                       paragraphStyles, <span class="built_in">NSParagraphStyleAttributeName</span>,</span><br><span class="line">                       <span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *content = <span class="string">@"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</span>;</span><br><span class="line"><span class="comment">// Create the attributed string (text + attributes)</span></span><br><span class="line"><span class="built_in">NSMutableAttributedString</span> *textAttrs = [[<span class="built_in">NSMutableAttributedString</span> alloc] initWithString:content attributes:attrs];</span><br><span class="line"></span><br><span class="line"><span class="built_in">UILabel</span> *justifiedLabel = [[<span class="built_in">UILabel</span> alloc] initWithFrame:...];</span><br><span class="line">justifiedLabel.numberOfLines = <span class="number">0</span>;</span><br><span class="line">justifiedLabel.lineBreakMode = <span class="built_in">NSLineBreakByWordWrapping</span>;</span><br><span class="line">[justifiedLabel setAttributedText:textAttrs];</span><br><span class="line">[justifiedLabel sizeToFit];</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/13947650/nstextalignmentjustified-to-uilable-textaligment-on-ios6-will-crash/14919060#14919060" target="_blank" rel="noopener">NSTextAlignmentJustified to UILable textAligment on iOS6 will crash</a></li>
</ul>
<h4><code>application:didReceiveRemoteNotification:</code> not called on app launching</h4>
<p>During the first launch, this method will not be called, thus have to handle this manually</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDictionary</span> *remoteNotification = [launchOptions objectForKey: <span class="built_in">UIApplicationLaunchOptionsRemoteNotificationKey</span>];</span><br><span class="line"><span class="keyword">if</span> (remoteNotification) &#123;</span><br><span class="line">    <span class="comment">// call the method manually</span></span><br><span class="line">    [<span class="keyword">self</span> application:application didReceiveRemoteNotification:remoteNotification];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/14968578/calling-didreceiveremotenotification-when-app-is-launching-for-the-first-time/14968832#14968832" target="_blank" rel="noopener">Calling didReceiveRemoteNotification when app is launching for the first time</a></li>
</ul>
<hr>
<h4>Remove notification from banner</h4>
<p>Both lines are required</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] setApplicationIconBadgeNumber: <span class="number">0</span>];</span><br><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] cancelAllLocalNotifications];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/8682051/ios-application-how-to-clear-notifications/8682811#8682811" target="_blank" rel="noopener">iOS application: how to clear notifications?</a></li>
</ul>
<hr>
<h4>Get version number</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *version = [[<span class="built_in">NSBundle</span> mainBundle] objectForInfoDictionaryKey: <span class="string">@"CFBundleShortVersionString"</span>];</span><br><span class="line"><span class="built_in">NSString</span> *build = [[<span class="built_in">NSBundle</span> mainBundle] objectForInfoDictionaryKey: (<span class="built_in">NSString</span> *)kCFBundleVersionKey];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/7608632/how-do-i-get-the-current-version-of-my-ios-project-in-code/7608711#7608711" target="_blank" rel="noopener">How do I get the current version of my ios project in code?</a></li>
</ul>
<hr>
<h4><code>UISearchBar</code> flat color</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// only apply for iOS 6</span></span><br><span class="line"><span class="keyword">if</span> ([[<span class="built_in">UIDevice</span> currentDevice].systemVersion floatValue] &lt; <span class="number">7</span>) &#123;</span><br><span class="line">    <span class="comment">// go through the subview</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">UIView</span> *subview <span class="keyword">in</span> <span class="keyword">self</span>.searchBar.subviews) &#123;</span><br><span class="line">        <span class="keyword">if</span> ([subview isKindOfClass:<span class="built_in">NSClassFromString</span>(<span class="string">@"UISearchBarBackground"</span>)]) &#123;</span><br><span class="line">            <span class="comment">// add a view filled with flat color to the background view</span></span><br><span class="line">            <span class="built_in">UIView</span> *flatView = [[<span class="built_in">UIView</span> alloc] initWithFrame:subview.bounds];</span><br><span class="line">            flatView.backgroundColor = [<span class="built_in">UIColor</span> greenColor];</span><br><span class="line">            [subview addSubview:flatView];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/3496829/how-to-apply-a-solid-color-to-a-uisearchbar/12906714#12906714" target="_blank" rel="noopener">How to apply a solid color to a UISearchBar</a></li>
</ul>
<hr>
<h4>Add tap event to <code>UINavigationBar</code> title</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UITapGestureRecognizer</span> *titleViewTap = [[<span class="built_in">UITapGestureRecognizer</span> alloc] initWithTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(titleViewTapped:)];</span><br><span class="line"><span class="built_in">UILabel</span> *titleLabel = [[<span class="built_in">UILabel</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">40</span>)];</span><br><span class="line"><span class="comment">// adjust to center</span></span><br><span class="line">titleLabel.textAlignment = <span class="built_in">NSTextAlignmentCenter</span>;</span><br><span class="line"><span class="comment">// standardize the text color, font</span></span><br><span class="line">titleLabel.textColor = [[<span class="built_in">UINavigationBar</span> appearance].titleTextAttributes valueForKey:<span class="built_in">UITextAttributeTextColor</span>];</span><br><span class="line">titleLabel.font = [[<span class="built_in">UINavigationBar</span> appearance].titleTextAttributes valueForKey:<span class="built_in">UITextAttributeFont</span>];</span><br><span class="line">titleLabel.userInteractionEnabled = <span class="literal">YES</span>;</span><br><span class="line">titleLabel.text = <span class="string">@"My awesome title"</span>;</span><br><span class="line">[titleLabel addGestureRecognizer:titleViewTap];</span><br><span class="line"><span class="keyword">self</span>.navigationItem.titleView = titleLabel;</span><br></pre></td></tr></table></figure></p>
<p>Then add a method</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)titleViewTapped:(<span class="built_in">UITapGestureRecognizer</span> *)sender</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"user tapped"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2077025/uinavigationbar-touch" target="_blank" rel="noopener">UINavigationBar Touch</a></li>
</ul>
<hr>
<h4>UITableView separator on iOS7 show full width</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([tableView respondsToSelector:<span class="keyword">@selector</span>(setSeparatorInset:)]) &#123;</span><br><span class="line">    [tableView setSeparatorInset:<span class="built_in">UIEdgeInsetsZero</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/18773239/how-to-fix-uitableview-separator-on-ios-7/18773281#18773281" target="_blank" rel="noopener">How to fix UITableView separator on iOS 7? [duplicate]</a></li>
</ul>
<hr>
<h4>Change UIImage default image color</h4>
<p><img src="/images/short-notes/objective-c/white-icon.png" alt="alt text" title="Original icon color"><br>
<img src="/images/short-notes/objective-c/gray-icon.png" alt="alt text" title="New color"></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIImage</span> *whiteIcon = [[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"WhiteIcon"</span>] imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysTemplate</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">UIImageView</span> *iconImageView = [[<span class="built_in">UIImageView</span> alloc] initWithImage:whiteIcon];</span><br><span class="line">iconImageView.tintColor = [<span class="built_in">UIColor</span> grayColor];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/19970309/how-can-i-change-every-color-in-a-uiimage-to-gray/19973019#19973019" target="_blank" rel="noopener">How can I change every color in a UIImage to gray? [closed]</a></li>
</ul>
<hr>
<h4>Detect a shake event</h4>
<p>Add the code below to your ViewController</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)motionBegan:(<span class="built_in">UIEventSubtype</span>)motion withEvent:(<span class="built_in">UIEvent</span> *)event</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (motion == <span class="built_in">UIEventSubtypeMotionShake</span> )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Shake begin"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)motionEnded:(<span class="built_in">UIEventSubtype</span>)motion withEvent:(<span class="built_in">UIEvent</span> *)event</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (motion == <span class="built_in">UIEventSubtypeMotionShake</span> )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Shake ended"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4807551/objective-c-detecting-a-shake/4808879#4808879" target="_blank" rel="noopener">Objective C: Detecting a shake</a></li>
</ul>
<hr>
<h4>Remove 1px gradient on top of <code>UITabBar</code></h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UITabBar</span> appearance] setShadowImage:[[<span class="built_in">UIImage</span> alloc] init]];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/14371343/ios-uitabbar-remove-top-shadow-gradient-line/16334578#16334578" target="_blank" rel="noopener">iOS UITabBar : Remove top shadow gradient line</a></li>
</ul>
<hr>
<h4>Vibrate device</h4>
<p>Import this <code>AudioToolbox.framework</code> from <strong>Link Binary With Library</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;AudioToolbox/AudioServices.h&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>Then, use either 1 of the following</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AudioServicesPlayAlertSound(kSystemSoundID_Vibrate);</span><br><span class="line">AudioServicesPlaySystemSound(kSystemSoundID_Vibrate);</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4724980/making-the-iphone-vibrate/4725039#4725039" target="_blank" rel="noopener">Making the iPhone vibrate</a></li>
</ul>
<hr>
<h4>Get reference counter in ARC mode</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Retain count is %ld"</span>, <span class="built_in">CFGetRetainCount</span>((__bridge <span class="built_in">CFTypeRef</span>)myObject));</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/8863269/how-do-i-verify-reference-count-in-arc-mode/8963645#8963645" target="_blank" rel="noopener">How do I verify reference count in ARC mode?</a></li>
</ul>
<hr>
<h4>Hide the <code>UINavigationBar</code> back button</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span>.navigationItem setHidesBackButton:<span class="literal">YES</span> animated:<span class="literal">YES</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/1453519/how-to-hide-the-back-button-in-uinavigationcontroller/1453702#1453702" target="_blank" rel="noopener">How to hide the “back” button in UINavigationController?</a></li>
</ul>
<hr>
<h4>Change <code>UIAlertView</code> keyboard type to numpad</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alert.alertViewStyle = <span class="built_in">UIAlertViewStylePlainTextInput</span>;</span><br><span class="line">[[alert textFieldAtIndex:<span class="number">0</span>] setKeyboardType:<span class="built_in">UIKeyboardTypeNumberPad</span>];</span><br><span class="line">[alert show];</span><br></pre></td></tr></table></figure></p>
<p><strong>The sequence is important</strong></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/10579658/uialertview-uialertviewstylesecuretextinput-numeric-keyboard/10579935#10579935" target="_blank" rel="noopener">UIAlertView: UIAlertViewStyleSecureTextInput: Numeric keyboard</a></li>
</ul>
<hr>
<h4>Bad performance after adding shadow</h4>
<p>When adding shadow effect to tableView/collectionView cell, the performance will drop significantly.</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.layer.shouldRasterize = <span class="literal">YES</span>;</span><br></pre></td></tr></table></figure></p>
<p>Set the property above solve the issue</p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/6395139/i-have-bad-performance-on-using-shadow-effect/6396932#6396932" target="_blank" rel="noopener">I Have bad performance on using shadow effect</a></li>
</ul>
<hr>
<h4><code>UICollectionViewCell</code> subclass init never run</h4>
<p>Implement in <code>initWithFrame:</code> instead</p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/16531867/uicollectionviewcell-subclass-init-never-run/16531906#16531906" target="_blank" rel="noopener">UICollectionViewCell subclass init never run</a></li>
</ul>
<hr>
<h4>Take screenshot from UIView</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIImage</span> *)screenshotImageFromView:(<span class="built_in">UIView</span> *)view &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(view.bounds.size, <span class="number">1</span>, <span class="number">0.0</span>f);</span><br><span class="line">    </span><br><span class="line">    [view.layer renderInContext:<span class="built_in">UIGraphicsGetCurrentContext</span>()];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIImage</span> *image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// usage</span></span><br><span class="line"><span class="built_in">UIImage</span> *img = [<span class="keyword">self</span> screenshotImageFromView:<span class="keyword">self</span>.view];</span><br></pre></td></tr></table></figure></p>
<hr>
<h4><code>UIColor</code> from hex string</h4>
<p>Add a macro in <code>&lt;Project&gt;-Prefix.pch</code></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#define UIColorFromRGB(rgbValue) [UIColor \</span></span><br><span class="line">colorWithRed:((<span class="keyword">float</span>)((rgbValue &amp; <span class="number">0xFF0000</span>) &gt;&gt; <span class="number">16</span>))/<span class="number">255.0</span> \</span><br><span class="line">green:((<span class="keyword">float</span>)((rgbValue &amp; <span class="number">0xFF00</span>) &gt;&gt; <span class="number">8</span>))/<span class="number">255.0</span> \</span><br><span class="line">blue:((<span class="keyword">float</span>)(rgbValue &amp; <span class="number">0xFF</span>))/<span class="number">255.0</span> alpha:<span class="number">1.0</span>]</span><br></pre></td></tr></table></figure></p>
<p>Then add a helper function</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">unsigned</span> <span class="keyword">int</span>)intFromHexString:(<span class="built_in">NSString</span> *) hexStr</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> hexInt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create scanner</span></span><br><span class="line">    <span class="built_in">NSScanner</span> *scanner = [<span class="built_in">NSScanner</span> scannerWithString:hexStr];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Tell scanner to skip the # character</span></span><br><span class="line">    [scanner setCharactersToBeSkipped:[<span class="built_in">NSCharacterSet</span> characterSetWithCharactersInString:<span class="string">@"#"</span>]];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Scan hex value</span></span><br><span class="line">    [scanner scanHexInt:&amp;hexInt];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> hexInt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Usage</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIColor</span> *color = <span class="built_in">UIColorFromRGB</span>([<span class="keyword">self</span> intFromHexString:<span class="string">@"#ff3366"</span>]);</span><br></pre></td></tr></table></figure></p>
<h5>References:</h5>
<ul>
<li><a href="http://www.albertopasca.it/whiletrue/2010/08/objective-c-uicolor-set-color-from-rgb/" target="_blank" rel="noopener">Objective C UIColor from RGB</a></li>
<li><a href="http://iosdevelopertips.com/conversion/convert-hex-value-stored-as-string-to-integer.html" target="_blank" rel="noopener">Convert Hex Value Stored As NSString To Integer</a></li>
</ul>
<hr>
<h4>LocationService not working on iOS8</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([_locationManager respondsToSelector:<span class="keyword">@selector</span>(requestWhenInUseAuthorization)]) &#123;</span><br><span class="line">    [_locationManager requestWhenInUseAuthorization];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Call this method before <code>startUpdatingLocation</code>.</p>
<p>In the <strong>Info.plist</strong>, add</p>
<p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSLocationWhenInUseUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>You are required to enable the location service to get accurate results.<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="https://stackoverflow.com/questions/24062509/ios-8-location-services-not-working/24063578#24063578" target="_blank" rel="noopener">iOS 8 : Location Services not working</a></li>
</ul>
<hr>
<h4><code>CLPlacemark.administrativeArea</code> Malaysia list</h4>
<p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Selangor</span></span><br><span class="line"><span class="attr">Negri</span> <span class="string">Sembilan</span></span><br><span class="line"><span class="attr">KL</span></span><br><span class="line"><span class="attr">Kedah</span></span><br><span class="line"><span class="attr">Pinang</span></span><br><span class="line"><span class="attr">Perak</span></span><br><span class="line"><span class="attr">Perlis</span></span><br><span class="line"><span class="attr">Malacca</span></span><br><span class="line"><span class="attr">Johore</span></span><br><span class="line"><span class="attr">Pahang</span></span><br><span class="line"><span class="attr">Terengganu</span></span><br><span class="line"><span class="attr">Kelantan</span></span><br><span class="line"><span class="attr">Sabah</span></span><br><span class="line"><span class="attr">Sarawak</span></span><br><span class="line"><span class="attr">Wilayah</span> <span class="string">Persekutuan Labuan</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Change <code>UITextField</code> placeholder color</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([textField respondsToSelector:<span class="keyword">@selector</span>(setAttributedPlaceholder:)]) &#123;</span><br><span class="line">    <span class="built_in">UIColor</span> *color = [<span class="built_in">UIColor</span> colorWithWhite:<span class="number">1</span> alpha:<span class="number">0.7</span>];</span><br><span class="line">    textField.attributedPlaceholder = [[<span class="built_in">NSAttributedString</span> alloc] initWithString:<span class="string">@"Placeholder text"</span> attributes:@&#123;<span class="built_in">NSForegroundColorAttributeName</span>: color&#125;];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    TSLog(<span class="string">@"Cannot set placeholder text's color, because deployment target is earlier than iOS 6.0"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/1340224/iphone-uitextfield-change-placeholder-text-color/13695462#13695462" target="_blank" rel="noopener">iPhone UITextField - Change placeholder text color</a></li>
</ul>
<hr>
<h4>Underline text on <code>UIButton</code></h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">button.titleLabel.textColor = [<span class="built_in">UIColor</span> whiteColor];</span><br><span class="line">button.backgroundColor = [<span class="built_in">UIColor</span> clearColor];</span><br><span class="line"><span class="built_in">NSMutableAttributedString</span> *buttonStr = [[<span class="built_in">NSMutableAttributedString</span> alloc] initWithString:<span class="string">@"or do other stuff"</span>];</span><br><span class="line">[buttonStr addAttribute:<span class="built_in">NSUnderlineStyleAttributeName</span> value:[<span class="built_in">NSNumber</span> numberWithInteger:<span class="built_in">NSUnderlineStyleSingle</span>] range:<span class="built_in">NSMakeRange</span>(<span class="number">3</span>, [buttonStr length] - <span class="number">3</span>)];</span><br><span class="line">[button setAttributedTitle:buttonStr forState:<span class="built_in">UIControlStateNormal</span>];</span><br></pre></td></tr></table></figure></p>
<p>The code above will underline <strong>do other stuff</strong>.</p>
<h5>Reference:</h5>
<ul>
<li><a href="http://iostechsolutions.blogspot.com/2014/04/uibutton-or-uilabel-with-underlined.html" target="_blank" rel="noopener">UIButton Or UILabel with underlined text. iOS 6 or iOS 7</a></li>
</ul>
<hr>
<h4>Loop through <code>NSDate</code></h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)dateRangeFrom:(<span class="built_in">NSDate</span> *)fromDate to:(<span class="built_in">NSDate</span> *)toDate</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// add 1 day to them, e.g.</span></span><br><span class="line">    <span class="comment">// fromDate = 2014-11-05 ; toDate = 2014-10-30, without adding 1 day, it will loop from 2014-11-04 to 2014-10-29</span></span><br><span class="line">    fromDate = [fromDate dateByAddingTimeInterval:<span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>];</span><br><span class="line">    toDate = [toDate dateByAddingTimeInterval:<span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSDateComponents</span> *component = [<span class="built_in">NSDateComponents</span> new];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// if fromDate is greater than toDate, then loop decending, ascending otherwise</span></span><br><span class="line">    <span class="built_in">NSComparisonResult</span> compareResult;</span><br><span class="line">    <span class="keyword">if</span> ([fromDate compare:toDate] == <span class="built_in">NSOrderedAscending</span>) &#123;</span><br><span class="line">        compareResult = <span class="built_in">NSOrderedAscending</span>;</span><br><span class="line">        component.day = <span class="number">1</span>; <span class="comment">// loop through day by day</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        compareResult = <span class="built_in">NSOrderedDescending</span>;</span><br><span class="line">        component.day = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSCalendar</span> *currentCalendar = [<span class="built_in">NSCalendar</span> currentCalendar];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> ([fromDate compare:toDate] == compareResult) &#123;</span><br><span class="line">        fromDate = [currentCalendar dateByAddingComponents:component toDate:fromDate options:<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Date %@"</span>, fromDate);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/18289923/loop-between-two-nsdates-in-objective-c/18290759#18290759" target="_blank" rel="noopener">Loop between two NSDates in Objective C [closed]</a></li>
</ul>
<hr>
<h4>Add touch event on <code>UIStatusBar</code></h4>
<p><strong>AppDelegate.h</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="built_in">NSString</span> * <span class="keyword">const</span> kStatusBarTappedNotification = <span class="string">@"statusBarTappedNotification"</span>;</span><br></pre></td></tr></table></figure></p>
<p><strong>AppDelegate.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - Status bar touch tracking</span></span><br><span class="line">- (<span class="keyword">void</span>) touchesBegan:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event &#123;</span><br><span class="line">    [<span class="keyword">super</span> touchesBegan:touches withEvent:event];</span><br><span class="line">    <span class="built_in">CGPoint</span> location = [[[event allTouches] anyObject] locationInView:[<span class="keyword">self</span> window]];</span><br><span class="line">    <span class="built_in">CGRect</span> statusBarFrame = [<span class="built_in">UIApplication</span> sharedApplication].statusBarFrame;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">CGRectContainsPoint</span>(statusBarFrame, location)) &#123;</span><br><span class="line">        [<span class="keyword">self</span> statusBarTouchedAction];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)statusBarTouchedAction &#123;</span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] postNotificationName:kStatusBarTappedNotification</span><br><span class="line">                                                        object:<span class="literal">nil</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>AnyViewController.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillAppear:animated];</span><br><span class="line">    </span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(statusBarTappedAction:) name:kStatusBarTappedNotification object:<span class="literal">nil</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewWillDisappear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillDisappear:animated];</span><br><span class="line">    </span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] removeObserver:<span class="keyword">self</span> name:kStatusBarTappedNotification object:<span class="literal">nil</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)statusBarTappedAction:(<span class="built_in">NSNotification</span>*)notification</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"StatusBar tapped"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="https://stackoverflow.com/questions/3753097/how-to-detect-touches-in-status-bar/18953439#18953439" target="_blank" rel="noopener">How to detect touches in status bar</a></li>
</ul>
<hr>
<h4>Detect link on <code>UITextView</code></h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">textView.editable = <span class="literal">NO</span>;</span><br><span class="line">textView.dataDetectorTypes = <span class="built_in">UIDataDetectorTypeAll</span>;</span><br><span class="line"><span class="keyword">if</span> ([textView respondsToSelector:<span class="keyword">@selector</span>(setLinkTextAttributes:)]) &#123;</span><br><span class="line">    textView.linkTextAttributes = @&#123;<span class="built_in">NSForegroundColorAttributeName</span>: [<span class="built_in">UIColor</span> redColor]&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="https://stackoverflow.com/questions/10681965/how-to-make-url-phone-clickable-uilabel/10690821#10690821" target="_blank" rel="noopener">How to make URL/Phone-clickable UILabel?</a></li>
</ul>
<hr>
<h4>Get rotation angle from <code>CGAffineTransform</code></h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">atan2(transform.b, transform.a);</span><br></pre></td></tr></table></figure></p>
<p>NOTE: The value are in radian</p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2051811/iphone-sdk-cgaffinetransform-getting-the-angle-of-rotation-of-an-object/2051861#2051861" target="_blank" rel="noopener">iphone sdk CGAffineTransform getting the angle of rotation of an object</a></li>
</ul>
<hr>
<h4>Update status bar background color, fade when scroll</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span> </span>&#123;</span><br><span class="line">    <span class="built_in">UIView</span> *_statusBarBackgroundView;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    ...</span><br><span class="line">    _statusBarBackgroundView = [[<span class="built_in">UIView</span> alloc] initWithFrame:[[<span class="built_in">UIApplication</span> sharedApplication] statusBarFrame]];</span><br><span class="line">    _statusBarBackgroundView.backgroundColor = [<span class="built_in">UIColor</span> clearColor];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_statusBarBackgroundView];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - UIScrollViewDelegate</span></span><br><span class="line">- (<span class="keyword">void</span>)scrollViewDidScroll:(<span class="built_in">UIScrollView</span> *)scrollView</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">CGFloat</span> offset = scrollView.contentOffset.y;</span><br><span class="line">    <span class="built_in">CGFloat</span> initialPoint = <span class="number">40</span>;</span><br><span class="line">    <span class="built_in">CGFloat</span> endPoint = <span class="number">80</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (offset &gt; initialPoint) &#123;</span><br><span class="line">        <span class="built_in">CGFloat</span> opacity = (offset - initialPoint) / (endPoint - initialPoint);</span><br><span class="line">        opacity = MIN(opacity, <span class="number">1</span>);</span><br><span class="line">        _statusBarBackgroundView.backgroundColor = <span class="built_in">UIColorFromRGBA</span>(<span class="number">0xfc8d8d</span>, opacity);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        _statusBarBackgroundView.backgroundColor = [<span class="built_in">UIColor</span> clearColor];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">self</span>.navigationController.navigationBar.backgroundColor = _statusBarBackgroundView.backgroundColor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="https://stackoverflow.com/questions/19010500/ios7-side-menu-status-bar-color-transition-as-in-the-ios7-facebook-app/19778121#19778121" target="_blank" rel="noopener">iOS7 Side menu status bar color transition. As in the iOS7 Facebook App</a></li>
</ul>
<hr>
<h4><code>UIWebView</code> inject css</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)webViewDidFinishLoad:(<span class="built_in">UIWebView</span> *)webView</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span>* css = <span class="string">@"\"@font-face &#123; font-family: 'Chalkboard'; src: local('ChalkboardSE-Regular'); &#125; body &#123; background-color: #F0F0FC; color: #572B00; font-family: Chalkboard;&#125; a &#123; color: #A00; text-decoration: none;&#125;\""</span>;</span><br><span class="line">    <span class="built_in">NSString</span>* js = [<span class="built_in">NSString</span> stringWithFormat:</span><br><span class="line">                <span class="string">@"var styleNode = document.createElement('style');\n"</span></span><br><span class="line">                 <span class="string">"styleNode.type = \"text/css\";\n"</span></span><br><span class="line">                 <span class="string">"var styleText = document.createTextNode(%@);\n"</span></span><br><span class="line">                 <span class="string">"styleNode.appendChild(styleText);\n"</span></span><br><span class="line">                 <span class="string">"document.getElementsByTagName('head')[0].appendChild(styleNode);\n"</span>,css];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"js:\n%@"</span>,js);</span><br><span class="line">    [<span class="keyword">self</span>.webView stringByEvaluatingJavaScriptFromString:js];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="https://stackoverflow.com/questions/6903292/uiwebview-css-injection-using-javascript/11127033#11127033" target="_blank" rel="noopener">UIWebView CSS injection using JavaScript</a></li>
</ul>
<hr>
<h4><code>UIImagePickerControllerOriginalImage</code> orientation issue</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">UIImage</span>*)removeOrientationForImage:(<span class="built_in">UIImage</span>*)image &#123;</span><br><span class="line">    <span class="built_in">CGSize</span> size = image.size;</span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(size);</span><br><span class="line">    [image drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>,<span class="number">0</span>,size.width ,size.height)];</span><br><span class="line">    <span class="built_in">UIImage</span>* newImage = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> newImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/1315251/how-to-rotate-a-uiimage-90-degrees/13469432#13469432" target="_blank" rel="noopener">How to Rotate a UIImage 90 degrees?</a></li>
</ul>
<hr>
<h4><code>DAKeyboardControl</code> issue with UITabBar</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[contentView addKeyboardPanningWithActionHandler:^(<span class="built_in">CGRect</span> keyboardFrameInView, <span class="built_in">BOOL</span> opening, <span class="built_in">BOOL</span> closing) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CGRect</span> toolBarFrame = toolBar.frame;</span><br><span class="line">    toolBarFrame.origin.y = MIN(keyboardFrameInView.origin.y, contentView.bounds.size.height) - toolBarFrame.size.height;</span><br><span class="line">    toolBar.frame = toolBarFrame;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CGRect</span> tableViewFrame = tableView.frame;</span><br><span class="line">    tableViewFrame.size.height = toolBarFrame.origin.y;</span><br><span class="line">    tableView.frame = tableViewFrame;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="https://github.com/danielamitay/DAKeyboardControl/issues/42#issuecomment-17017996" target="_blank" rel="noopener">Dismissing the keyboard with tab bar layout makes the input view disappear #42</a></li>
</ul>
<hr>
<h4><code>NSArray</code> extract a single column into another array</h4>
<p>e.g.</p>
<p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="string">"1"</span>,</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"Foo"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="string">"2"</span>,</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"Bar"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="string">"3"</span>,</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"Foo Bar"</span></span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>After calling</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[myArr mutableArrayValueForKey:<span class="string">@"name"</span>]</span><br></pre></td></tr></table></figure></p>
<p>New result</p>
<p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">"Foo"</span>, <span class="string">"Bar"</span>, <span class="string">"Foo Bar"</span>]</span><br></pre></td></tr></table></figure></p>
<hr>
<h4><code>MKMapView</code> event after dragged/zoomed</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)mapView:(<span class="built_in">MKMapView</span> *)mapView regionDidChangeAnimated:(<span class="built_in">BOOL</span>)animated;</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/5556977/determine-if-mkmapview-was-dragged-moved/5557154#5557154" target="_blank" rel="noopener">determine if MKMapView was dragged/moved</a></li>
</ul>
<hr>
<h4>Custom <code>UIResponder</code> trigger event</h4>
<p>Example, create a <code>CustomCheckbox</code>, want to perform <strong>ValueChanged</strong> event when touched on the checkbox</p>
<p><strong>CustomCheckbox.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)beginTrackingWithTouch:(<span class="built_in">UITouch</span> *)touch withEvent:(<span class="built_in">UIEvent</span> *)event</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span>.checked = !_checked;</span><br><span class="line">    <span class="comment">// trigger value changed event</span></span><br><span class="line">    [<span class="keyword">self</span> sendActionsForControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>ViewController.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[checkbox addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(checkboxChecked:) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://www.objc.io/issue-3/custom-controls.html" target="_blank" rel="noopener">Custom Controls</a></li>
</ul>
<hr>
<h4>Print out properties of an object</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;objc/message.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)descriptionForObject:(<span class="keyword">id</span>)objct</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> varCount;</span><br><span class="line">    <span class="built_in">NSMutableString</span> *descriptionString = [[<span class="built_in">NSMutableString</span> alloc]init];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    objc_property_t *vars = class_copyPropertyList(object_getClass(objct), &amp;varCount);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; varCount; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        objc_property_t var = vars[i];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">char</span>* name = property_getName (var);</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">NSString</span> *keyValueString = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"\n%@ = %@"</span>,[<span class="built_in">NSString</span> stringWithUTF8String:name],[objct valueForKey:[<span class="built_in">NSString</span> stringWithUTF8String:name]]];</span><br><span class="line">        [descriptionString appendString:keyValueString];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    free(vars);</span><br><span class="line">    <span class="keyword">return</span> descriptionString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Usage: <code>NSLog(@&quot;obj %@&quot;, [self descriptionForObject:obj]);</code></p>
<h5>Reference:</h5>
<ul>
<li><a href="https://github.com/arundevma/ICHObjectPrinter/blob/master/ICHObjectPrinter/ICHObjectPrinter/ICHObjectPrinter/ICHObjectPrinter.m" target="_blank" rel="noopener">Github: arundevma/ICHObjectPrinter</a></li>
</ul>
<hr>
<h3>AFNetworking</h3>
<h4>Check is offline</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[[AFNetworkReachabilityManager sharedManager] startMonitoring];</span><br><span class="line">[[AFNetworkReachabilityManager sharedManager] setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Reachability: %@"</span>, AFStringFromNetworkReachabilityStatus(status));</span><br><span class="line">    <span class="keyword">switch</span> (status) &#123;</span><br><span class="line">        <span class="keyword">case</span> AFNetworkReachabilityStatusReachableViaWWAN:</span><br><span class="line">        <span class="keyword">case</span> AFNetworkReachabilityStatusReachableViaWiFi:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"online"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> AFNetworkReachabilityStatusNotReachable:</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"offline"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/21938680/afnetworking-2-0-queue-request-when-device-is-offline-with-setreachabilitystatus/22112135#22112135" target="_blank" rel="noopener">AFNetworking 2.0 queue request when device is offline with setReachabilityStatusChangeBlock does nothing</a></li>
</ul>
<hr>
<h3>Animation</h3>
<h4>Flip animation between view controllers</h4>
<p>Present</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">viewController.modalTransitionStyle = <span class="built_in">UIModalTransitionStyleFlipHorizontal</span>;</span><br><span class="line">[<span class="keyword">self</span> presentViewController:viewController animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</span><br></pre></td></tr></table></figure></p>
<p>Dismiss</p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span> dismissViewControllerAnimated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/4622996/how-to-do-the-flip-animation-between-two-uiviewcontrollers-while-clicking-info-b/7384986#7384986" target="_blank" rel="noopener">How to do the flip animation between two UIViewControllers while clicking info button?</a></li>
</ul>
<hr>
<h4>Move object from bottom to top</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// set the initial position</span></span><br><span class="line"><span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">40</span>, <span class="number">320</span>, <span class="number">240</span>, <span class="number">100</span>)];</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">[<span class="built_in">UIView</span> animateWithDuration:<span class="number">1.0</span> <span class="comment">// 1 second</span></span><br><span class="line">                      delay:<span class="number">0.0</span></span><br><span class="line">                    options:<span class="built_in">UIViewAnimationOptionCurveLinear</span></span><br><span class="line">                 animations:^&#123;</span><br><span class="line">                     <span class="comment">// move the image to top</span></span><br><span class="line">                     imageView.center = <span class="built_in">CGPointMake</span>(imageView.center.x, <span class="number">100</span>);</span><br><span class="line">                 &#125;</span><br><span class="line">                 completion:<span class="literal">nil</span>];</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Fade in UIButton</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIButton</span> *fooButton = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">fooButton.frame = ...;</span><br><span class="line">fooButton.alpha = <span class="number">0</span>; <span class="comment">// set to transparent first</span></span><br><span class="line"></span><br><span class="line">[<span class="built_in">UIView</span> animateWithDuration:<span class="number">0.5</span> <span class="comment">// 0.5 second</span></span><br><span class="line">                      delay:<span class="number">0.0</span></span><br><span class="line">                    options:<span class="built_in">UIViewAnimationOptionCurveLinear</span></span><br><span class="line">                 animations:^&#123;</span><br><span class="line">                     fooButton.alpha = <span class="number">1.0</span>; <span class="comment">// slowly fade in</span></span><br><span class="line">                 &#125;</span><br><span class="line">                 completion:<span class="literal">nil</span>];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/8047536/fading-in-and-out-uibutton-in-view/8047622#8047622" target="_blank" rel="noopener">Fading in and out UIButton in view</a></li>
</ul>
<hr>
<h4>Flip animation between 2 views</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[<span class="built_in">UIView</span> beginAnimations:<span class="literal">nil</span> context:<span class="literal">NULL</span>];</span><br><span class="line">[<span class="built_in">UIView</span> setAnimationDuration:<span class="number">1.0</span>];</span><br><span class="line">[<span class="built_in">UIView</span> setAnimationTransition:<span class="built_in">UIViewAnimationTransitionFlipFromRight</span> forView:<span class="keyword">self</span>.view cache:<span class="literal">NO</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// optional: event handler after animation</span></span><br><span class="line">[<span class="built_in">UIView</span> setAnimationDelegate:<span class="keyword">self</span>];</span><br><span class="line">[<span class="built_in">UIView</span> setAnimationDidStopSelector:<span class="keyword">@selector</span>(viewFlipped)];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> listViewIndex = [<span class="keyword">self</span>.view.subviews indexOfObject:<span class="keyword">self</span>.tableView];</span><br><span class="line"><span class="keyword">int</span> mapViewIndex = [<span class="keyword">self</span>.view.subviews indexOfObject:<span class="keyword">self</span>.mapView];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (listViewIndex &gt; mapViewIndex)</span><br><span class="line">&#123;</span><br><span class="line">    sender.title = <span class="string">@"List"</span>;</span><br><span class="line">    [<span class="keyword">self</span>.view bringSubviewToFront:<span class="keyword">self</span>.mapView];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    sender.title = <span class="string">@"Map"</span>;</span><br><span class="line">    [<span class="keyword">self</span>.view bringSubviewToFront:<span class="keyword">self</span>.tableView];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="built_in">UIView</span> commitAnimations];</span><br></pre></td></tr></table></figure></p>
<p>If you added the event handler, just add the code below
<figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewFlipped</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Flip animation completed."</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5>References:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/2336998/iphone-subview-flip-between-2-views/2337273#2337273" target="_blank" rel="noopener">iPhone subview flip between 2 views</a></li>
<li><a href="http://stackoverflow.com/questions/5486164/iphone-how-to-commit-two-animations-after-another/5486230#5486230" target="_blank" rel="noopener">iPhone: How to commit two animations after another</a></li>
</ul>
<hr>
<h3>Facebook</h3>
<h4>Force user to allow <code>publish_actions</code> permission</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MyViewController</span> </span>&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *fbToken;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// when tapped on facebook button</span></span><br><span class="line">- (<span class="keyword">IBAction</span>)facebookTouched:(<span class="built_in">UIButton</span> *)sender</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// We will request the user's public profile and the user's birthday</span></span><br><span class="line">    <span class="comment">// These are the permissions we need:</span></span><br><span class="line">    <span class="built_in">NSArray</span> *permissionsNeeded = @[<span class="string">@"publish_actions"</span>, <span class="string">@"email"</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// don't cache the token</span></span><br><span class="line">    FBSession *mySession = [[FBSession alloc] initWithAppID:<span class="literal">nil</span> permissions:permissionsNeeded urlSchemeSuffix:<span class="literal">nil</span> tokenCacheStrategy:[FBSessionTokenCachingStrategy nullCacheInstance]];</span><br><span class="line">    </span><br><span class="line">    [mySession openWithCompletionHandler:^(FBSession *session,</span><br><span class="line">                                                     FBSessionState status,</span><br><span class="line">                                                     <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">UIAlertView</span> *alert = [[<span class="built_in">UIAlertView</span> alloc] initWithTitle:<span class="string">@"Facebook Error"</span> message:<span class="string">@"You must allow Facebook permissions"</span> delegate:<span class="literal">nil</span> cancelButtonTitle:<span class="string">@"OK"</span> otherButtonTitles:<span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (error) &#123; <span class="comment">// user not allow "email"</span></span><br><span class="line">            [alert show];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// i don't know what is this for, if without this line, this block will be executed 2 times and get error</span></span><br><span class="line">            <span class="keyword">if</span> (status == <span class="number">258</span>) <span class="keyword">return</span>;</span><br><span class="line">            </span><br><span class="line">            [FBSession setActiveSession:session];</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// Request the permissions the user currently has</span></span><br><span class="line">            [FBRequestConnection startWithGraphPath:<span class="string">@"/me/permissions"</span></span><br><span class="line">                                  completionHandler:^(FBRequestConnection *connection, <span class="keyword">id</span> result, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">                                      <span class="keyword">if</span> (!error) &#123;</span><br><span class="line">                                          <span class="comment">// These are the current permissions the user has:</span></span><br><span class="line">                                          <span class="built_in">NSDictionary</span> *currentPermissions = [(<span class="built_in">NSArray</span> *)[result data] objectAtIndex:<span class="number">0</span>];</span><br><span class="line">                                          </span><br><span class="line">                                          <span class="comment">// We will store here the missing permissions that we will have to request</span></span><br><span class="line">                                          <span class="built_in">NSMutableArray</span> *requestPermissions = [[<span class="built_in">NSMutableArray</span> alloc] initWithArray:@[]];</span><br><span class="line">                                          </span><br><span class="line">                                          <span class="comment">// Check if all the permissions we need are present in the user's current permissions</span></span><br><span class="line">                                          <span class="comment">// If they are not present add them to the permissions to be requested</span></span><br><span class="line">                                          <span class="keyword">for</span> (<span class="built_in">NSString</span> *permission <span class="keyword">in</span> permissionsNeeded)&#123;</span><br><span class="line">                                              <span class="keyword">if</span> (![currentPermissions objectForKey:permission])&#123;</span><br><span class="line">                                                  [requestPermissions addObject:permission];</span><br><span class="line">                                              &#125;</span><br><span class="line">                                          &#125;</span><br><span class="line">                                          </span><br><span class="line">                                          <span class="comment">// If we have more permissions to request</span></span><br><span class="line">                                          <span class="keyword">if</span> ([requestPermissions count] &gt; <span class="number">0</span>) &#123; <span class="comment">// user haven't allow publish_actions</span></span><br><span class="line">                                              [alert show];</span><br><span class="line">                                          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                              fbToken = session.accessTokenData.accessToken;</span><br><span class="line">                                          &#125;</span><br><span class="line">                                          </span><br><span class="line">                                      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                          <span class="comment">// An error occurred, we need to handle the error</span></span><br><span class="line">                                          <span class="comment">// See: https://developers.facebook.com/docs/ios/errors</span></span><br><span class="line">                                          <span class="built_in">NSLog</span>(<span class="string">@"error %@"</span>, error.description);</span><br><span class="line">                                      &#125;</span><br><span class="line">                                  &#125;];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h4>Get profile picture</h4>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// set image &amp; user name</span></span><br><span class="line">[FBSession setActiveSession:<span class="keyword">self</span>.session];</span><br><span class="line">[[FBRequest requestForMe] startWithCompletionHandler:^(FBRequestConnection *connection, <span class="built_in">NSDictionary</span>&lt;FBGraphUser&gt; *FBuser, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">    <span class="keyword">if</span> (error) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"error %@"</span>, error.description);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.usernameLabel.text = [FBuser name];</span><br><span class="line">        [<span class="keyword">self</span>.avatarImageView setImageWithURL:[<span class="built_in">NSURL</span> URLWithString:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"https://graph.facebook.com/%@/picture?height=100&amp;type=normal&amp;width=100"</span>, [FBuser username]]]];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<h5>Reference:</h5>
<ul>
<li><a href="http://stackoverflow.com/questions/20623728/getting-username-and-profile-picture-from-facebook-ios-7/20623845#20623845" target="_blank" rel="noopener">Getting username and profile picture from Facebook iOS 7</a></li>
</ul>
<hr>
<h4>FacebookSDK 4.x</h4>
<p>Login</p>
<p><strong>ViewController.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;FBSDKCoreKit/FBSDKCoreKit.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;FBSDKLoginKit/FBSDKLoginKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)facebookButtonTapped:(<span class="keyword">id</span>)sender</span><br><span class="line">&#123;</span><br><span class="line">    FBSDKLoginManager *loginManager = [[FBSDKLoginManager alloc] init];</span><br><span class="line">    [loginManager logInWithReadPermissions:@[<span class="string">@"email"</span>] handler:^(FBSDKLoginManagerLoginResult *result, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">        <span class="keyword">if</span> (error) &#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"Facebook error: %@"</span>, [error localizedDescription]);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Facebook token: %@"</span>, result.token.tokenString);</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>AppDelegate.m</strong></p>
<p><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;FBSDKCoreKit/FBSDKCoreKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">- (<span class="keyword">void</span>)applicationDidBecomeActive:(<span class="built_in">UIApplication</span> *)application</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.</span></span><br><span class="line">    [FBSDKAppEvents activateApp];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application openURL:(<span class="built_in">NSURL</span> *)url sourceApplication:(<span class="built_in">NSString</span> *)sourceApplication annotation:(<span class="keyword">id</span>)annotation &#123;</span><br><span class="line">    <span class="keyword">return</span> [[FBSDKApplicationDelegate sharedInstance] application:application</span><br><span class="line">                                                          openURL:url</span><br><span class="line">                                                sourceApplication:sourceApplication</span><br><span class="line">                                                       annotation:annotation];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://jslim.net"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/DirectAdmin/" style="font-size: 15px;">DirectAdmin</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/vim/" style="font-size: 15px;">vim</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/programming/" style="font-size: 15px;">programming</a> <a href="/tags/windows/" style="font-size: 15px;">windows</a> <a href="/tags/fedora/" style="font-size: 15px;">fedora</a> <a href="/tags/gnome/" style="font-size: 15px;">gnome</a> <a href="/tags/os-x/" style="font-size: 15px;">os-x</a> <a href="/tags/mac/" style="font-size: 15px;">mac</a> <a href="/tags/command-line/" style="font-size: 15px;">command-line</a> <a href="/tags/subversion/" style="font-size: 15px;">subversion</a> <a href="/tags/ruby/" style="font-size: 15px;">ruby</a> <a href="/tags/octopress/" style="font-size: 15px;">octopress</a> <a href="/tags/shell-script/" style="font-size: 15px;">shell-script</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/ios/" style="font-size: 15px;">ios</a> <a href="/tags/uninstallation/" style="font-size: 15px;">uninstallation</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/sql/" style="font-size: 15px;">sql</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/django/" style="font-size: 15px;">django</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/vmware/" style="font-size: 15px;">vmware</a> <a href="/tags/zend/" style="font-size: 15px;">zend</a> <a href="/tags/c-language/" style="font-size: 15px;">c language</a> <a href="/tags/wordpress/" style="font-size: 15px;">wordpress</a> <a href="/tags/laravel/" style="font-size: 15px;">laravel</a> <a href="/tags/configuration/" style="font-size: 15px;">configuration</a> <a href="/tags/apache/" style="font-size: 15px;">apache</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/sails-js/" style="font-size: 15px;">sails.js</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/deployment/" style="font-size: 15px;">deployment</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/bootstrap3/" style="font-size: 15px;">bootstrap3</a> <a href="/tags/jquery/" style="font-size: 15px;">jquery</a> <a href="/tags/google-map/" style="font-size: 15px;">google-map</a> <a href="/tags/happyfox/" style="font-size: 15px;">happyfox</a> <a href="/tags/server/" style="font-size: 15px;">server</a> <a href="/tags/objective-c/" style="font-size: 15px;">objective-c</a> <a href="/tags/laravel4/" style="font-size: 15px;">laravel4</a> <a href="/tags/flot/" style="font-size: 15px;">flot</a> <a href="/tags/graph/" style="font-size: 15px;">graph</a> <a href="/tags/cocos2d-x/" style="font-size: 15px;">cocos2d-x</a> <a href="/tags/xcode/" style="font-size: 15px;">xcode</a> <a href="/tags/debian/" style="font-size: 15px;">debian</a> <a href="/tags/swift/" style="font-size: 15px;">swift</a> <a href="/tags/branding/" style="font-size: 15px;">branding</a> <a href="/tags/ruby-on-rails/" style="font-size: 15px;">ruby-on-rails</a> <a href="/tags/vagrant/" style="font-size: 15px;">vagrant</a> <a href="/tags/selenium/" style="font-size: 15px;">selenium</a> <a href="/tags/phantomjs/" style="font-size: 15px;">phantomjs</a> <a href="/tags/test/" style="font-size: 15px;">test</a> <a href="/tags/google-api/" style="font-size: 15px;">google-api</a> <a href="/tags/security/" style="font-size: 15px;">security</a> <a href="/tags/facebook-php-sdk/" style="font-size: 15px;">facebook-php-sdk</a> <a href="/tags/e-commerce/" style="font-size: 15px;">e-commerce</a> <a href="/tags/setup/" style="font-size: 15px;">setup</a> <a href="/tags/ads-platform/" style="font-size: 15px;">ads-platform</a> <a href="/tags/setup-configuration/" style="font-size: 15px;">setup-configuration</a> <a href="/tags/cronjob/" style="font-size: 15px;">cronjob</a> <a href="/tags/hacking/" style="font-size: 15px;">hacking</a> <a href="/tags/session-hijacking/" style="font-size: 15px;">session-hijacking</a> <a href="/tags/banned/" style="font-size: 15px;">banned</a> <a href="/tags/scam/" style="font-size: 15px;">scam</a> <a href="/tags/aws/" style="font-size: 15px;">aws</a> <a href="/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/tags/c/" style="font-size: 15px;">c#</a> <a href="/tags/winform/" style="font-size: 15px;">winform</a> <a href="/tags/nappupdate/" style="font-size: 15px;">nappupdate</a> <a href="/tags/webapp/" style="font-size: 15px;">webapp</a> <a href="/tags/devops/" style="font-size: 15px;">devops</a> <a href="/tags/homestead/" style="font-size: 15px;">homestead</a> <a href="/tags/cefsharp/" style="font-size: 15px;">cefsharp</a> <a href="/tags/angular/" style="font-size: 15px;">angular</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/guest-post/" style="font-size: 15px;">guest-post</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/utf-8/" style="font-size: 15px;">utf-8</a> <a href="/tags/mysql-client/" style="font-size: 15px;">mysql-client</a> <a href="/tags/config/" style="font-size: 15px;">config</a> <a href="/tags/guzzle/" style="font-size: 15px;">guzzle</a> <a href="/tags/lambda/" style="font-size: 15px;">lambda</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/tinymce/" style="font-size: 15px;">tinymce</a> <a href="/tags/laravel5/" style="font-size: 15px;">laravel5</a> <a href="/tags/eloquent/" style="font-size: 15px;">eloquent</a> <a href="/tags/subquery/" style="font-size: 15px;">subquery</a> <a href="/tags/oembed/" style="font-size: 15px;">oembed</a> <a href="/tags/gitlab/" style="font-size: 15px;">gitlab</a> <a href="/tags/datatables/" style="font-size: 15px;">datatables</a> <a href="/tags/google-optimize/" style="font-size: 15px;">google-optimize</a> <a href="/tags/google-analytics/" style="font-size: 15px;">google-analytics</a> <a href="/tags/ab-test/" style="font-size: 15px;">ab-test</a> <a href="/tags/rds/" style="font-size: 15px;">rds</a> <a href="/tags/openvpn/" style="font-size: 15px;">openvpn</a> <a href="/tags/infinite-scroll/" style="font-size: 15px;">infinite-scroll</a> <a href="/tags/query-builder/" style="font-size: 15px;">query-builder</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/2020/04/24/Activate-Windows-10-in-VirtualBox/">Activate Windows 10 in VirtualBox</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/02/11/Web-development-testing-in-Android-Virtual-Device/">Web development testing in Android Virtual Device</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/01/22/Install-Arch-Linux/">Install Arch Linux</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/01/09/Why-Vue-js-emit-not-working/">Why Vue.js $emit not working</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/01/06/Why-Google-Analytics-pageviews-different-from-filter-by-day-and-by-month/">Why Google Analytics pageviews different from filter by day and by month</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/12/18/Find-out-app-API-endpoint/">Find out app API endpoint</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/11/28/Becareful-of-JavaScript-blocking-the-main-thread/">Becareful of JavaScript blocking the main thread</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/08/22/How-to-prevent-duplicated-join-of-table-in-Laravel-Query-Builder/">How to prevent duplicated join of table in Laravel Query Builder</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/08/08/The-efficient-way-to-debug-JS-CSS-in-production-site/">The efficient way to debug JS/CSS in production site</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/07/11/docker-compose-for-Elasticsearch-Kibana/">docker-compose for Elasticsearch & Kibana</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//jslim89.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="http://jsify.com" title="Js' Sport Diary" target="_blank">Js' Sport Diary</a></div><div class="affiliates"><div><a href="https://luminati.io/?affiliate=ref_5d2fff2b8fcb5320de59b227&amp;cam=L_yairi" title="The largest proxy network" target="_blank"><img src="/images/ads/lum_ad_250x250.png"/></a></div><div><a href="https://m.do.co/c/abb622813f68" title="Deploy your next app in seconds. Get $50 in cloud credits from @DigitalOcean" target="_blank"><img src="/images/ads/DigitalOcean_300x250.gif" style="width:250px;height:auto;"/></a></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Js' Technical Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>